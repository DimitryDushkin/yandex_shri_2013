(function(e){var b=(function(){_}).toString().indexOf("_")>-1,a=e.browser.msie,c=a?["toString","valueOf"]:null,f=function(){};function d(h,g,i){var l=false;if(a){var j=[];e.each(c,function(){i.hasOwnProperty(this)&&(l=true)&&j.push({name:this,val:i[this]})});if(l){e.each(i,function(m){j.push({name:m,val:this})});i=j}}e.each(i,function(n,o){if(l){n=o.name;o=o.val}if(e.isFunction(o)&&(!b||o.toString().indexOf(".__base")>-1)){var m=h[n]||function(){};g[n]=function(){var q=this.__base;this.__base=m;var p=o.apply(this,arguments);this.__base=q;return p}}else{g[n]=o}})}e.inherit=function(){var m=arguments,o=e.isFunction(m[0]),h=o?m[0]:f,n=m[o?1:0]||{},j=m[o?2:1],p=n.__constructor||(o&&h.prototype.__constructor)?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!o){p.prototype=n;p.prototype.__self=p.prototype.constructor=p;return e.extend(p,j)}e.extend(p,h);var i=function(){},l=i.prototype=h.prototype,g=p.prototype=new i();g.__self=g.constructor=p;d(l,g,n);j&&d(h,p,j);return p};e.inheritSelf=function(j,h,i){var g=j.prototype;d(g,g,h);i&&d(j,j,i);return j}})(jQuery);(function(c){var a=0,d="__"+(+new Date),b=function(){return"uniq"+ ++a};c.identify=function(g,f){if(!g){return b()}var e="uniqueID" in g?"uniqueID":d;return f||e in g?g[e]:g[e]=b()}})(jQuery);(function(a){a.isEmptyObject||(a.isEmptyObject=function(c){for(var b in c){return false}return true})})(jQuery);(function(a){a.extend({debounce:function(c,d,e,b){if(arguments.length==3&&typeof e!="boolean"){b=e;e=false}var f;return function(){var g=arguments;b=b||this;e&&!f&&c.apply(b,g);clearTimeout(f);f=setTimeout(function(){e||c.apply(b,g);f=null},d)}},throttle:function(e,f,b){var g,d,c;return function(){d=arguments;c=true;b=b||this;g||(function(){if(c){e.apply(b,d);c=false;g=setTimeout(arguments.callee,f)}else{g=null}})()}}})})(jQuery);(function(d){var a="__"+ +new Date+"storage",c=function(f,e){return d.identify(f)+(e?d.identify(e):"")},b={buildEventName:function(f){return f},on:function(p,j,q,t,n){if(typeof p=="string"){if(d.isFunction(j)){t=q;q=j;j=undefined}var f=c(q,t),m=this[a]||(this[a]={}),g=p.split(" "),h=0,r;while(p=g[h++]){p=this.buildEventName(p);r=m[p]||(m[p]={ids:{},list:{}});if(!(f in r.ids)){var o=r.list,s={fn:q,data:j,ctx:t,special:n};if(o.last){o.last.next=s;s.prev=o.last}else{o.first=s}r.ids[f]=o.last=s}}}else{var l=this;d.each(p,function(u,i){l.on(u,i,j,n)})}return this},onFirst:function(i,h,g,f){return this.on(i,h,g,f,{one:true})},un:function(q,r,u){if(typeof q=="string"||typeof q=="undefined"){var o=this[a];if(o){if(q){var h=q.split(" "),l=0,s;while(q=h[l++]){q=this.buildEventName(q);if(s=o[q]){if(r){var g=c(r,u),f=s.ids;if(g in f){var p=s.list,t=f[g],j=t.prev,m=t.next;if(j){j.next=m}else{if(t===p.first){p.first=m}}if(m){m.prev=j}else{if(t===p.last){p.last=j}}delete f[g]}}else{delete this[a][q]}}}}else{delete this[a]}}}else{var n=this;d.each(q,function(v,i){n.un(v,i,u)})}return this},trigger:function(j,h){var m=this,l=m[a],i;typeof j==="string"?j=d.Event(m.buildEventName(i=j)):j.type=m.buildEventName(i=j.type);j.target||(j.target=m);if(l&&(l=l[j.type])){var g=l.list.first,f;while(g){j.data=g.data;f=g.fn.call(g.ctx||m,j,h);if(typeof f!=="undefined"){j.result=f;if(f===false){j.preventDefault();j.stopPropagation()}}g.special&&g.special.one&&m.un(i,g.fn,g.ctx);g=g.next}}return this}};d.observable=d.inherit(b,b)})(jQuery);(function(f,h){var e=[],g={},a={};function d(l,j,i){return(l?"__elem_"+l:"")+"__mod"+(j?"_"+j:"")+(i?"_"+i:"")}function c(j,i,l){f.isFunction(j)?(i[d(l,"*","*")]=j):f.each(j,function(n,m){f.isFunction(m)?(i[d(l,n,"*")]=m):f.each(m,function(o,p){i[d(l,n,o)]=p})})}function b(j,i){return i?Array.isArray(i)?function(n){var m=0,l=i.length;while(m<l){if(n.hasMod(j,i[m++])){return true}}return false}:function(l){return l.hasMod(j,i)}:function(l){return l.hasMod(j)}}this.BEM=f.inherit(f.observable,{__constructor:function(j,l,i){var m=this;m._modCache=j||{};m._processingMods={};m._params=l;m.params=null;i!==false?m._init():m.afterCurrentEvent(function(){m._init()})},_init:function(){if(!this._initing&&!this.hasMod("js","inited")){this._initing=true;if(!this.params){this.params=f.extend(this.getDefaultParams(),this._params);delete this._params}this.setMod("js","inited");delete this._initing;this.hasMod("js","inited")&&this.trigger("init")}return this},changeThis:function(j,i){return j.bind(i||this)},afterCurrentEvent:function(j,i){this.__self.afterCurrentEvent(this.changeThis(j,i))},trigger:function(j,i){this.__base(j=this.buildEvent(j),i).__self.trigger(j,i);return this},buildEvent:function(i){typeof i=="string"&&(i=f.Event(i));i.block=this;return i},hasMod:function(m,n,j){var i=arguments.length,o=false;if(i==1){j="";n=m;m=h;o=true}else{if(i==2){if(typeof m=="string"){j=n;n=m;m=h}else{j="";o=true}}}var l=this.getMod(m,n)===j;return o?!l:l},getMod:function(l,m){var i=typeof l;if(i==="string"||i==="undefined"){m=l||m;var j=this._modCache;return m in j?j[m]:j[m]=this._extractModVal(m)}return this._getElemMod(m,l)},_getElemMod:function(l,i,j){return this._extractModVal(l,i,j)},getMods:function(m){var j=m&&typeof m!="string",n=this,i=[].slice.call(arguments,j?1:0),l=n._extractMods(i,j?m:h);if(!j){i.length?i.forEach(function(o){n._modCache[o]=l[o]}):n._modCache=l}return l},setMod:function(l,q,r){if(typeof r=="undefined"){r=q;q=l;l=h}var m=this;if(!l||l[0]){var n=(l&&l[0]?f.identify(l[0]):"")+"_"+q;if(this._processingMods[n]){return m}var j,o=l?m._getElemMod(q,l,j=m.__self._extractElemNameFrom(l)):m.getMod(q);if(o===r){return m}this._processingMods[n]=true;var i=true,p=[q,r,o];l&&p.unshift(l);[["*","*"],[q,"*"],[q,r]].forEach(function(s){i=m._callModFn(j,s[0],s[1],p)!==false&&i});!l&&i&&(m._modCache[q]=r);i&&m._afterSetMod(q,r,o,l,j);delete this._processingMods[n]}return m},_afterSetMod:function(m,i,n,j,l){},toggleMod:function(l,m,j,o,n){if(typeof l=="string"){n=o;o=j;j=m;m=l;l=h}if(typeof o=="undefined"){o=""}else{if(typeof o=="boolean"){n=o;o=""}}var i=this.getMod(l,m);(i==j||i==o)&&this.setMod(l,m,typeof n==="boolean"?(n?j:o):this.hasMod(l,m,j)?o:j);return this},delMod:function(i,j){if(!j){j=i;i=h}return this.setMod(i,j,"")},_callModFn:function(m,l,i,j){var n=d(m,l,i);return this[n]?this[n].apply(this,j):h},_extractModVal:function(j,i){return""},_extractMods:function(i,j){return{}},channel:function(j,i){return this.__self.channel(j,i)},getDefaultParams:function(){return{}},del:function(j){var i=[].slice.call(arguments);typeof j=="string"&&i.unshift(this);this.__self.del.apply(this.__self,i);return this},destruct:function(){}},{_name:"i-bem",blocks:g,decl:function(j,l,o){if(typeof j=="string"){j={block:j}}else{if(j.name){j.block=j.name}}if(j.baseBlock&&!g[j.baseBlock]){throw ('baseBlock "'+j.baseBlock+'" for "'+j.block+'" is undefined')}l||(l={});if(l.onSetMod){c(l.onSetMod,l);delete l.onSetMod}if(l.onElemSetMod){f.each(l.onElemSetMod,function(r,q){c(q,l,r)});delete l.onElemSetMod}var n=g[j.baseBlock||j.block]||this;if(j.modName){var i=b(j.modName,j.modVal);f.each(l,function(q,r){f.isFunction(r)&&(l[q]=function(){var t;if(i(this)){t=r}else{var s=n.prototype[q];s&&s!==l[q]&&(t=this.__base)}return t?t.apply(this,arguments):h})})}if(o&&typeof o.live==="boolean"){var m=o.live;o.live=function(){return m}}var p;j.block==n._name?(p=f.inheritSelf(n,l,o))._processLive(true):(p=g[j.block]=f.inherit(n,l,o))._name=j.block;return p},_processLive:function(i){return false},create:function(j,i){typeof j=="string"&&(j={block:j});return new g[j.block](j.mods,i)},getName:function(){return this._name},_extractElemNameFrom:function(i){},afterCurrentEvent:function(j,i){e.push({fn:j,ctx:i})==1&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var j=e.length;if(j){var i,l=e.splice(0,j);while(i=l.shift()){i.fn.call(i.ctx||this)}}},changeThis:function(j,i){return j.bind(i||this)},del:function(n){var m=typeof n=="string",l=m?0:1,j=arguments.length;m&&(n=this);while(l<j){delete n[arguments[l++]]}return this},channel:function(j,i){if(typeof j=="boolean"){i=j;j=h}j||(j="default");if(i){if(a[j]){a[j].un();delete a[j]}return}return a[j]||(a[j]=new f.observable())}})})(jQuery);(function(){Object.keys||(Object.keys=function(c){var b=[];for(var a in c){c.hasOwnProperty(a)&&b.push(a)}return b})})();(function(){var a=Array.prototype,d=Object.prototype.toString,b={indexOf:function(h,g){g=+(g||0);var f=this,e=f.length;if(e>0&&g<e){g=g<0?Math.ceil(g):Math.floor(g);g<-e&&(g=0);g<0&&(g=g+e);while(g<e){if(g in f&&f[g]===h){return g}++g}}return -1},forEach:function(j,f){var h=-1,g=this,e=g.length;while(++h<e){h in g&&(f?j.call(f,g[h],h,g):j(g[h],h,g))}},map:function(l,f){var j=-1,h=this,e=h.length,g=new Array(e);while(++j<e){j in h&&(g[j]=f?l.call(f,h[j],j,h):l(h[j],j,h))}return g},filter:function(l,f){var j=-1,h=this,e=h.length,g=[];while(++j<e){j in h&&(f?l.call(f,h[j],j,h):l(h[j],j,h))&&g.push(h[j])}return g},reduce:function(l,j){var h=-1,g=this,e=g.length,f;if(arguments.length<2){while(++h<e){if(h in g){f=g[h];break}}}else{f=j}while(++h<e){h in g&&(f=l(f,g[h],h,g))}return f},some:function(j,f){var h=-1,g=this,e=g.length;while(++h<e){if(h in g&&(f?j.call(f,g[h],h,g):j(g[h],h,g))){return true}}return false},every:function(j,f){var h=-1,g=this,e=g.length;while(++h<e){if(h in g&&!(f?j.call(f,g[h],h,g):j(g[h],h,g))){return false}}return true}};for(var c in b){a[c]||(a[c]=b[c])}Array.isArray||(Array.isArray=function(e){return d.call(e)==="[object Array]"})})();(function(){var a=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(b){var d=this,c=a.call(arguments,1);return function(){return d.apply(b,c.concat(a.call(arguments)))}})})();(function(i,b,a){var g="_",c="__",d="[a-zA-Z0-9-]+";function e(m,j,l){l.push(g,m,g,j)}function f(m,n,j,l){l.push(m);j&&e(n,j,l)}function h(o,m,n,j,l){f(o,a,a,l);l.push(c,m);j&&e(n,j,l)}i.INTERNAL={NAME_PATTERN:d,MOD_DELIM:g,ELEM_DELIM:c,buildModPostfix:function(n,j,l){var m=l||[];e(n,j,m);return l?m:m.join("")},buildClass:function(q,o,p,j,l){var n=typeof p;if(n=="string"){if(typeof j!="string"){l=j;j=p;p=o;o=a}}else{if(n!="undefined"){l=p;p=a}else{if(o&&typeof o!="string"){l=o;o=a}}}if(!(o||p||l)){return q}var m=l||[];o?h(q,o,p,j,m):f(q,p,j,m);return l?m:m.join("")},buildClasses:function(o,n,m,j){if(n&&typeof n!="string"){j=m;m=n;n=a}var l=j||[];n?h(o,n,a,a,l):f(o,a,a,l);m&&b.each(m,function(q,p){if(p){l.push(" ");n?h(o,n,q,p,l):f(o,q,p,l)}});return j?l:l.join("")}}})(BEM,jQuery);jQuery.cookie=function(b,j,n){if(typeof j!="undefined"){n=n||{};if(j===null){j="";n.expires=-1}var e="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var f;if(typeof n.expires=="number"){f=new Date();f.setTime(f.getTime()+(n.expires*24*60*60*1000))}else{f=n.expires}e="; expires="+f.toUTCString()}var m=n.path?"; path="+(n.path):"";var g=n.domain?"; domain="+(n.domain):"";var a=n.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,m,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var h=0;h<l.length;h++){var c=jQuery.trim(l[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};(function(p,g,e){var l=p.INTERNAL,j=l.ELEM_DELIM,m={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},f=l.buildClass,n=l.buildClasses,o={};function i(q,r,s){(q[r]||(q[r]=[])).unshift(s)}function d(q,r){return r.modName?function(s){(s._curBlock.mods||{})[r.modName]===r.modVal&&q(s)}:q}function c(r,q){var t=g.isArray(q),s;g.isArray(r)?t?s=r.concat(q):(s=r).push(q):t?(s=q).unshift(r):s=[r,q];return s}var b={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},a=/["&<>]/g;function h(q){return q.replace(a,function(r){return b[r]})}p.HTML={decl:function(s,r){typeof s=="string"&&(s={block:s});s.name&&(s.block=s.name);var q=o[s.block]||(o[s.block]={});r.onBlock&&i(q,"_block",d(r.onBlock,s));if(r.onElem){g.isFunction(r.onElem)?i(q,"_elem",d(r.onElem,s)):g.each(r.onElem,function(u,t){i(q,"_elem"+(u==="*"?"":j+u),d(t,s))})}},build:function(r){var q=new this.Ctx(r);q._buildAll();return q._flush()},Ctx:g.inherit({__constructor:function(q){this._buffer=[];this._params=q;this._tParams=null;this._tParamsChanges=null;this._curBlock=e},pos:function(){return this._params._pos},isFirst:function(){return this._params._pos===1},isLast:function(){var q=this._params;return q._pos===q._siblingsCount},params:function(q){var r=this;if(typeof q=="undefined"){return r._params}r._params=q;return r},param:function(q,t,r,v){var u=this,s=u._params;if(typeof t=="undefined"){return s[q]}if(r||!(q in s)){s[q]=t}else{if(v){s[q]=g.extend(t,s[q])}}return u},attrs:function(r,q){return this.param("attrs",r,q,true)},attr:function(r,t,s){var u=this;if(typeof t=="undefined"){return(u._params.attrs||{})[r]}var q=u._params.attrs;q?(s||!(r in q))&&(q[r]=t):(u._params.attrs={})[r]=t;return u},tag:function(r,q){return this.param("tag",r,q)},cls:function(r,q){return this.param("cls",r,q)},mods:function(r,q){return this.param("mods",r,q,true)},mod:function(q,t,s){var u=this;if(typeof t=="undefined"){return(u._params.mods||{})[q]}var r=u._params.mods;r?(s||!(q in r))&&(r[q]=t):(u._params.mods={})[q]=t;return u},mix:function(s,q){var t=this,r=t._params;if(typeof s=="undefined"){return r.mix}if(q||!("mix" in r)){r.mix=s}else{r.mix=r.mix.concat(s)}return t},js:function(q){return this.param("js",q)},content:function(r,q){return this.param("content",r,q)},wrapContent:function(q){var s=this,r=s._params;q.content=r.content;r.content=q;return s},beforeContent:function(q){var s=this,r=s._params;r.content=c(q,r.content);return s},afterContent:function(q){var s=this,r=s._params;r.content=c(r.content,q);return s},wrap:function(q){var s=this,r=s._params;q.block||(q._curBlock=s._curBlock);q.content=r._wrapper?r._wrapper:r;r._wrapper=q;return s},tParam:function(q,t){var u=this,s=u._tParams||(u._tParams={});if(typeof t=="undefined"){return s[q]}var r=u._tParamsChanges||(u._tParamsChanges={});q in r||(r[q]=s[q]);s[q]=t;return u},generateId:function(){return g.identify()},stop:function(){this._params._isStopped=true},_buildAll:function(){var x=this,r=x._buffer,w=x._params,u=typeof w;if(u=="string"||u=="number"){r.push(w)}else{if(g.isArray(w)){var t=0,q=w.length,s,v;while(t<q){x._params=s=w[t++];v=typeof s;if(v=="string"||v=="number"){r.push(s)}else{if(s){s._pos=t;s._siblingsCount=q;x._buildByDecl()}}}}else{if(w){x._params._pos=x._params._siblingsCount=1;x._buildByDecl()}}}},_build:function(){var x=this,s=x._buffer,v=x._params,q=v.tag||"div",u,t=v.block||v.elem,w=t&&(v.block||x._curBlock.block),r=false;if(v.js){(u={})[f(w,v.elem)]=v.js===true?{}:v.js;r=!v.elem}s.push("<",q);if(t||v.cls){s.push(' class="');if(t){n(w,v.elem,v.mods,s);v.mix&&g.each(v.mix,function(y,z){if(z){s.push(" ");n(z.block,z.elem,z.mods,s);if(z.js){(u||(u={}))[f(z.block,z.elem)]=z.js===true?{}:z.js;r||(r=!z.elem)}}})}v.cls&&s.push(t?" ":"",v.cls);r&&s.push(" i-bem");s.push('"')}u&&s.push(' onclick="return ',h(JSON.stringify(u)),'"');v.attrs&&g.each(v.attrs,function(y,z){typeof z!="undefined"&&z!==null&&z!==false&&s.push(" ",y,'="',z.toString().replace(/"/g,"&quot;"),'"')});if(m[q]){s.push("/>")}else{s.push(">");if(typeof v.content!="undefined"){x._params=v.content;x._buildAll()}s.push("</",q,">")}},_flush:function(){var q=this._buffer.join("");delete this._buffer;return q},_buildByDecl:function(){var t=this,w=t._curBlock,q=t._params;q._curBlock&&(t._curBlock=q._curBlock);q.block&&(t._curBlock=q);if(!q._wrapper){if(q.block||q.elem){var v=o[t._curBlock.block];if(v){var x;if(q.elem){x=v["_elem"+j+q.elem];v._elem&&(x=(x?x.concat(v._elem):v._elem))}else{x=v._block}if(x){var r=0,u;while(u=x[r++]){u(t);if(q._isStopped){break}}}}}if(q._wrapper){q._curBlock=t._curBlock;t._params=q._wrapper;return t._buildAll()}}var y=t._tParamsChanges;t._tParamsChanges=null;t._build();t._curBlock=w;if(y){var s=t._tParams;g.each(y,function(z,A){typeof A=="undefined"?delete s[z]:s[z]=A})}}})}})(BEM,jQuery);(function(c){if(window.JSON){return}var b=Object.prototype.toString,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d;window.JSON={stringify:d=function(m){if(m===null){return"null"}if(typeof m==="undefined"){return c}switch(b.call(m)){case"[object String]":e.lastIndex=0;return'"'+(e.test(m)?m.replace(e,function(i){var n=a[i];return typeof n==="string"?n:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)}):m)+'"';case"[object Number]":case"[object Boolean]":return""+m;case"[object Array]":var l="[",j=0,f=m.length,h;while(j<f){h=d(m[j]);l+=(j++?",":"")+(typeof h==="undefined"?"null":h)}return l+"]";case"[object Object]":if(b.call(m.toJSON)==="[object Function]"){return d(m.toJSON())}var l="{",j=0,h;for(var g in m){if(m.hasOwnProperty(g)){h=d(m[g]);typeof h!=="undefined"&&(l+=(j++?",":"")+'"'+g+'":'+h)}}return l+"}";default:return c}}}})();(function(i,e,h){var d=e(window),z=e(document),o={},x={},B={},f={},r={},w=i.blocks,b=i.INTERNAL,l=b.NAME_PATTERN,q=b.MOD_DELIM,j=b.ELEM_DELIM,A=b.buildModPostfix,u=b.buildClass;function s(E,C){var D=E[0];e.each(t(D),function(F,H){c(H,D,F,C);var G=x[H.uniqId];if(G){if(G.domElem.index(D)<0){G.domElem=G.domElem.add(E);e.extend(G._params,H)}}else{a(F,E,H)}})}function a(K,G,F,D,L){if(typeof F=="boolean"){L=D;D=F;F=h}var H=G[0];F=c(F||t(H)[K],H,K);var J=F.uniqId;if(x[J]){return x[J]._init()}o[J]=o[J]?o[J].add(G):G;var C=H.parentNode;if(!C||C.nodeType===11){e.unique(o[J])}var I=w[K]||v.decl(K,{},{live:true});if(!(I._liveInitable=!!I._processLive())||D||F.live===false){var E=new I(o[J],F,!!D);delete o[J];L&&L.apply(E,Array.prototype.slice.call(arguments,4));return E}}function c(H,E,D,C){(H||(H={})).uniqId||(H.uniqId=(H.id?D+"-id-"+H.id:e.identify())+(C||e.identify()));var G=e.identify(E),F=B[G]||(B[G]={});F[D]||(F[D]=H);return H}function y(D,C,F){var E=D.find(C);return F?E:E.add(D.filter(C))}function t(C){var D=e.identify(C);return B[D]||(B[D]=g(C))}function g(E){var D=E.onclick||E.ondblclick;if(!D&&E.tagName.toLowerCase()=="body"){var F=e(E),C=F.attr("onclick")||F.attr("ondblclick");C&&(D=Function(C))}return D?D():{}}function n(C){delete B[e.identify(C)]}function m(D,C){D.domElem.length===1?D.destruct(true):D.domElem=D.domElem.not(C)}function p(){return z[0][e.support.boxModel?"documentElement":"body"]}e.fn.bem=function(C,D){return a(C,this,D,true)};var v=i.DOM=i.decl("i-bem__dom",{__constructor:function(D,E,C){var F=this;F.domElem=D;F._eventNameCache={};F._elemCache={};x[F._uniqId=E.uniqId||e.identify(F)]=F;F._needSpecialUnbind=false;F.__base(null,E,C)},findBlocksInside:function(C,D){return this._findBlocks("find",C,D)},findBlockInside:function(C,D){return this._findBlocks("find",C,D,true)},findBlocksOutside:function(C,D){return this._findBlocks("parents",C,D)},findBlockOutside:function(C,D){return this._findBlocks("closest",C,D)[0]||null},findBlocksOn:function(C,D){return this._findBlocks("",C,D)},findBlockOn:function(C,D){return this._findBlocks("",C,D,true)},_findBlocks:function(M,C,E,F){if(!E){E=C;C=h}var H=C?(typeof C=="string"?this.findElem(C):C):this.domElem,G=typeof E=="string",L=G?E:(E.block||E.blockName),D="."+(G?u(L):u(L,E.modName,E.modVal))+(F?":first":""),I=H.filter(D);M&&(I=I.add(H[M](D)));if(F){return I[0]?a(L,I.eq(0),true):null}var K=[],J={};e.each(I,function(N,O){var P=a(L,e(O),true);if(!J[P._uniqId]){J[P._uniqId]=true;K.push(P)}});return K},bindToDomElem:function(D,E,C){var F=this;C?D.bind(F._buildEventName(E),function(G){(G.data||(G.data={})).domElem=e(this);return C.apply(F,arguments)}):e.each(E,function(H,G){F.bindToDomElem(D,H,G)});return F},bindToDoc:function(D,C){this._needSpecialUnbind=true;return this.bindToDomElem(z,D,C)},bindToWin:function(D,C){this._needSpecialUnbind=true;return this.bindToDomElem(d,D,C)},bindTo:function(E,D,C){if(!D||e.isFunction(D)){C=D;D=E;E=this.domElem}else{if(typeof E=="string"){E=this.elem(E)}}return this.bindToDomElem(E,D,C)},unbindFromDomElem:function(C,D){C.unbind(this._buildEventName(D));return this},unbindFromDoc:function(C){return this.unbindFromDomElem(z,C)},unbindFromWin:function(C){return this.unbindFromDomElem(d,C)},unbindFrom:function(D,C){if(!C){C=D;D=this.domElem}else{if(typeof D=="string"){D=this.elem(D)}}return this.unbindFromDomElem(D,C)},_buildEventName:function(C){var D=this;return C.indexOf(" ")>1?C.split(" ").map(function(E){return D._buildOneEventName(E)}).join(" "):D._buildOneEventName(C)},_buildOneEventName:function(E){var G=this,C=G._eventNameCache;if(E in C){return C[E]}var F="."+G._uniqId;if(E.indexOf(".")<0){return C[E]=E+F}var D=".bem_"+G.__self._name;return C[E]=E.split(".").map(function(I,H){return H==0?I+D:D+"_"+I}).join("")+F},trigger:function(D,C){this.__base(D=this.buildEvent(D),C).domElem&&this._ctxTrigger(D,C);return this},_ctxTrigger:function(D,C){var G=this,F=f[G.__self._buildCtxEventName(D.type)],E={};F&&G.domElem.each(function(){var I=this,H=F.counter;while(I&&H){var K=e.identify(I,true);if(K){if(E[K]){break}var J=F.ctxs[K];if(J){e.each(J,function(M,L){L.fn.call(L.ctx||G,D,C)});H--}E[K]=true}I=I.parentNode}})},setMod:function(D,E,C){if(D&&typeof C!="undefined"&&D.length>1){var F=this;D.each(function(){var G=e(this);G.__bemElemName=D.__bemElemName;F.setMod(G,E,C)});return F}return this.__base(D,E,C)},_extractModVal:function(G,D,F){var C=(D||this.domElem)[0],E;C&&(E=C.className.match(this.__self._buildModValRE(G,F||D)));return E?E[2]:""},_extractMods:function(C,G){var F={},D=!C.length,E=0;((G||this.domElem)[0].className.match(this.__self._buildModValRE("("+(D?l:C.join("|"))+")",G,"g"))||[]).forEach(function(H){var J=(H=H.trim()).lastIndexOf(q),I=H.substr(0,J-1).lastIndexOf(q);F[H.substr(I+1,J-I-1)]=H.substr(J+1);++E});E<C.length&&C.forEach(function(H){H in F||(F[H]="")});return F},_afterSetMod:function(H,K,J,D,C){var F=this.__self,G=F._buildModClassPrefix(H,C),I=F._buildModValRE(H,C),E=K==="";(D||this.domElem).each(function(){var L=this.className;L.indexOf(G)>-1?this.className=L.replace(I,(E?"":"$1"+G+K)+"$3"):E||e(this).addClass(G+K)});C&&this.dropElemCache(C,H,J).dropElemCache(C,H,K)},findElem:function(F,H,G,E){if(arguments.length%2){E=G;G=H;H=F;F=this.domElem}else{if(typeof F=="string"){F=this.findElem(F)}}var D=this.__self,C="."+H.split(" ").map(function(I){return u(D._name,I,G,E)}).join(",.");return y(F,C)},_elem:function(D,G,C){var F=D+A(G,C),E;if(!(E=this._elemCache[F])){E=this._elemCache[F]=this.findElem(D,G,C);E.__bemElemName=D}return E},elem:function(F,E,C){if(E&&typeof E!="string"){E.__bemElemName=F;return E}if(F.indexOf(" ")<0){return this._elem(F,E,C)}var D=e([]),G=this;F.split(" ").forEach(function(H){D=D.add(G._elem(H,E,C))});return D},dropElemCache:function(F,E,C){if(F){var G=this,D=A(E,C);F.indexOf(" ")<0?delete G._elemCache[F+D]:F.split(" ").forEach(function(H){delete G._elemCache[H+D]})}else{this._elemCache={}}return this},elemParams:function(C){var D;if(typeof C=="string"){D=C;C=this.elem(C)}else{D=this.__self._extractElemNameFrom(C)}return g(C[0])[u(this.__self.getName(),D)]||{}},containsDomElem:function(D){var C=false;this.domElem.each(function(){return !(C=D.parents().andSelf().index(this)>-1)});return C},buildSelector:function(D,E,C){return this.__self.buildSelector(D,E,C)},destruct:function(D){var E=this,C=E.__self;E._isDestructing=true;E._needSpecialUnbind&&C.doc.add(C.win).unbind("."+E._uniqId);E.dropElemCache().domElem.each(function(F,G){var H=t(G);e.each(H,function(I,J){var K=x[J.uniqId];if(K){if(!K._isDestructing){m(K,G);delete H[I]}}else{delete o[J.uniqId]}});e.isEmptyObject(H)&&n(G)});D||E.domElem.remove();delete x[E.un()._uniqId];delete E.domElem;delete E._elemCache;E.__base()}},{doc:z,win:d,_processLive:function(D){var F=this,E=F._liveInitable;if("live" in F){var C=typeof E=="undefined";if(C^D){E=F.live()!==false;F.live=function(){}}}return E},init:function(D,F,E){if(!D||e.isFunction(D)){E=F;F=D;D=this.doc}var C=e.identify();y(D,".i-bem").each(function(){s(e(this),C)});F&&this.afterCurrentEvent(function(){F.call(E||this,D)});this._runAfterCurrentEventFns();return D},destruct:function(D,C,E){if(typeof D!="boolean"){E=C;C=D;D=h}y(C,".i-bem",E).each(function(F,G){var H=t(this);e.each(H,function(I,J){if(J.uniqId){var K=x[J.uniqId];if(K){m(K,G);delete H[I]}else{delete o[J.uniqId]}}});e.isEmptyObject(H)&&n(this)});D||(E?C.empty():C.remove())},update:function(C,D,F,E){this.destruct(C,true);this.init(C.html(D),F,E)},append:function(C,D){this.init(e(D).appendTo(C))},prepend:function(C,D){this.init(e(D).prependTo(C))},before:function(C,D){this.init(e(D).insertBefore(C))},after:function(C,D){this.init(e(D).insertAfter(C))},_buildCtxEventName:function(C){return this._name+":"+C},_liveClassBind:function(D,E,I,C){var H=this;if(E.indexOf(" ")>-1){E.split(" ").forEach(function(J){H._liveClassBind(D,J,I,C)})}else{var G=r[E],F=e.identify(I);if(!G){G=r[E]={};H.doc.bind(E,H.changeThis(H._liveClassTrigger,H))}G=G[D]||(G[D]={uniqIds:{},fns:[]});if(!(F in G.uniqIds)){G.fns.push({uniqId:F,fn:H._buildLiveEventFn(I,C)});G.uniqIds[F]=G.fns.length-1}}return this},_liveClassUnbind:function(E,F,I){var H=r[F];if(H){if(I){if(H=H[E]){var G=e.identify(I);if(G in H.uniqIds){var D=H.uniqIds[G],C=H.fns.length-1;H.fns.splice(D,1);while(D<C){H.uniqIds[H.fns[D++].uniqId]=D-1}delete H.uniqIds[G]}}}else{delete H[E]}}return this},_liveClassTrigger:function(I){var H=r[I.type];if(H){var E=I.target,C=[];for(var J in H){H.hasOwnProperty(J)&&C.push(J)}do{var D=" "+E.className+" ",G=0;while(J=C[G++]){if(D.indexOf(" "+J+" ")>-1){var F=0,L=H[J].fns,K,M=false;while(K=L[F++]){if(K.fn.call(e(E),I)===false){M=true}}M&&I.preventDefault();if(M||I.isPropagationStopped()){return}C.splice(--G,1)}}}while(C.length&&(E=E.parentNode))}},_buildLiveEventFn:function(E,C){var D=this;return function(G){var F=[D._name,((G.data||(G.data={})).domElem=e(this)).closest(D.buildSelector()),true],H=a.apply(null,C?F.concat([E,G]):F);if(H&&!C&&E){return E.apply(H,arguments)}}},liveInitOnEvent:function(D,C,E){return this.liveBindTo(D,C,E,true)},liveBindTo:function(G,D,F,C){if(!D||e.isFunction(D)){F=D;D=G;G=h}if(!G||typeof G=="string"){G={elem:G}}G.elemName&&(G.elem=G.elemName);var E=this;if(G.elem&&G.elem.indexOf(" ")>1){G.elem.split(" ").forEach(function(H){E._liveClassBind(u(E._name,H,G.modName,G.modVal),D,F,C)});return E}return E._liveClassBind(u(E._name,G.elem,G.modName,G.modVal),D,F,C)},liveUnbindFrom:function(D,C,F){var E=this;if(D.indexOf(" ")>1){D.split(" ").forEach(function(G){E._liveClassUnbind(u(E._name,G),C,F)});return E}return E._liveClassUnbind(u(E._name,D),C,F)},_liveInitOnBlockEvent:function(E,D,G,F){var C=this._name;w[D].on(E,function(I){var H=arguments,J=I.block[F](C);G&&J.forEach(function(K){G.apply(K,H)})});return this},liveInitOnBlockEvent:function(D,C,E){return this._liveInitOnBlockEvent(D,C,E,"findBlocksOn")},liveInitOnBlockInsideEvent:function(D,C,E){return this._liveInitOnBlockEvent(D,C,E,"findBlocksOutside")},liveInitOnBlockInit:function(C,D){return this.liveInitOnBlockEvent("init",C,D)},liveInitOnBlockInsideInit:function(C,D){return this.liveInitOnBlockInsideEvent("init",C,D)},on:function(C,G,F,E,D){return C.jquery?this._liveCtxBind(C,G,F,E,D):this.__base(C,G,F,E)},un:function(C,F,E,D){return C.jquery?this._liveCtxUnbind(C,F,E,D):this.__base(C,F,E)},liveCtxBind:function(C,G,F,E,D){return this._liveCtxBind(C,G,F,E,D)},_liveCtxBind:function(C,H,G,F,E){var J=this;if(typeof H=="string"){if(e.isFunction(G)){E=F;F=G;G=h}if(H.indexOf(" ")>-1){H.split(" ").forEach(function(K){J._liveCtxBind(C,K,G,F,E)})}else{var D=J._buildCtxEventName(H),I=f[D]||(f[D]={counter:0,ctxs:{}});C.each(function(){var L=e.identify(this),K=I.ctxs[L];if(!K){K=I.ctxs[L]={};++I.counter}K[e.identify(F)+(E?e.identify(E):"")]={fn:F,data:G,ctx:E}})}}else{e.each(H,function(L,K){J._liveCtxBind(C,L,K,G)})}return J},liveCtxUnbind:function(C,F,E,D){return this._liveCtxUnbind(C,F,E,D)},_liveCtxUnbind:function(C,F,E,D){var H=this,G=f[F=H._buildCtxEventName(F)];if(G){C.each(function(){var J=e.identify(this,true),I;if(J&&(I=G.ctxs[J])){E&&delete I[e.identify(E)+(D?e.identify(D):"")];if(!E||e.isEmptyObject(I)){G.counter--;delete G.ctxs[J]}}});G.counter||delete f[F]}return H},_extractElemNameFrom:function(C){if(C.__bemElemName){return C.__bemElemName}var D=C[0].className.match(this._buildElemNameRE());return D?D[1]:h},extractParams:g,_buildModClassPrefix:function(D,C){return u(this._name)+(C?j+(typeof C==="string"?C:this._extractElemNameFrom(C)):"")+q+D+q},_buildModValRE:function(D,C,E){return new RegExp("(\\s?)"+this._buildModClassPrefix(D,C)+"("+l+")(\\s|$)",E)},_buildElemNameRE:function(){return new RegExp(this._name+j+"("+l+")(?:\\s|$)")},buildSelector:function(D,E,C){return"."+u(this._name,D,E,C)},getBlockByUniqId:function(C){return x[C]},getWindowSize:function(){return{width:d.width(),height:d.height()}}})})(BEM,jQuery);(function(){String.prototype.trim||(String.prototype.trim=function(){var c=this.replace(/^\s\s*/,""),a=/\s/,b=c.length;while(a.test(c.charAt(--b))){}return c.slice(0,b+1)})})();(function(a){if(!a){a=window.Lego={}}a.isSessionValid=function(){return !!a.getCookie("yandex_login")}})(window.Lego);BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var a=this.__self._params;a["passport-msg"]||(a["passport-msg"]=a.id);if(a["show-counters"]===undefined){a["show-counters"]=Math.round(Math.random()*100)<=a["show-counters-percent"]}a.locale=a.lang;$(function(){a.oframebust&&Lego.oframebust(a.oframebust)})}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",retpath:encodeURI(decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"//pass.yandex.ru","social-host":"//social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(a){return(this._params||{})[a]}});(function(b){if(!b){b=window.Lego={}}!b.params&&(b.params={});function a(c){return c.replace(/^(?:https?:)?\/\//,"")}b.c=function(d,c,j){var i=a((j&&j.host)||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),e=function(m,o,n,l){o=o.replace("'","%27");return o.indexOf("/dtype=")>-1?o:location.protocol+"//"+i+"/"+n+"/dtype="+m+"/rnd="+((new Date()).getTime()+Math.round(Math.random()*100))+(l?"/*"+(o.match(/^http/)?o:location.protocol+"//"+location.host+(o.match("^/")?o:"/"+o)):"/*data="+encodeURIComponent("url="+encodeURIComponent((o.match(/^http/)?o:location.protocol+"//"+location.host+(o.match("^/")?o:"/"+o)))))},g=function(){var l=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];var h=document.createElement("script");h.setAttribute("src",e(d,location.href,"jclck"));l.insertBefore(h,l.firstChild)};if(c){if(c.className.match(/b-link_pseudo_yes/)||(c.href&&c.href.match(/^mailto:/))||(j&&j.noRedirect===true)){g()}else{if(c.href){var f=c.href;c.href=e(d,f,"redir");setTimeout(function(){c.href=f},500)}else{if(c.form){if(c.type.match(/submit|button|image/)){var f=c.form.action;c.form.action=e(d,f,"redir",true);setTimeout(function(){c.form.action=f},500)}else{g()}}else{if(c.action){c.action=e(d,c.action,"redir",true)}else{throw"counter.js: not link and not form!"}}}}}else{g()}}})(window.Lego);(function(a){if(!a){a=window.Lego={}}a.cp=function(f,c,e,b,d){a.c("stred/pid="+f+"/cid="+c+(e?"/path="+e:""),b,d)}})(window.Lego);(function(a){if(!a){a=window.Lego={}}a.ch=function(c,b){BEM.blocks["i-global"].param("show-counters")&&a.cp(0,2219,c,b)}})(window.Lego);(function(a){if(!a){a=window.Lego={}}a.getCookie=function(h){var g=document.cookie;if(g.length<1){return false}var d=g.indexOf(h+"=");if(d==-1){return false}d+=(h.length+1);var f=g.indexOf(";",d);return decodeURIComponent((f==-1)?g.substring(d):g.substring(d,f))}})(window.Lego);(function(b,a){if(!a){a=window.Lego={}}a.init||(a.init=function(c){(c=a.params=b.extend({id:"",login:a.isSessionValid()?a.getCookie("yandex_login")||"":"",yandexuid:a.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"//passport.yandex.ru","pass-host":"//pass.yandex.ru","passport-msg":c.id,"social-host":"//social.yandex.ru","lego-path":"/lego","show-counters-percent":100},c,a.params))["show-counters"]=Math.round(Math.random()*100)<=c["show-counters-percent"];BEM.blocks["i-global"]._params||b.extend(BEM.blocks["i-global"]._params={},c);b(function(){c.oframebust&&a.oframebust(c.oframebust)});return c});a.block||(a.block={});a.blockInit||(a.blockInit=function(c,d){c=c||document;d=d||".g-js";b(c).find(d).each(function(){var h=b(this),g=this.onclick?this.onclick():{},e=g.name||"",f=a.block[e];if(f&&!h.data(e)){f.call(h,g);h.data(e,true).addClass(e+"_js_inited")}})});a.blockInitBinded||(a.blockInitBinded=!!b(document).ready(function(){a.blockInit()}))})(jQuery,window.Lego);(function(a){if(!a){a=window.Lego={}}a.messages=a.messages||{};a.message=function(c,b){return a.params.locale=="ru"?b:(a.messages[c]||b)}})(window.Lego);$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})});var blocks=blocks||{};(function(){var a=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],d=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],b=["Воскресение","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"];Date.prototype.format=function(g){var f,e={j:this.getDate(),d:c(this.getDate()),l:b[this.getDay()],F:a[this.getMonth()],E:d[this.getMonth()],H:c(this.getHours()),i:c(this.getMinutes()),Y:this.getFullYear()};f=g.replace(/\w/g,function(i,h){return e[i]||i});return f};Date.prototype.human_date=function(){var e,f=new Date(),h=this.format("dFY")===f.format("dFY"),g=this.format("Y")===f.format("Y");e=(h?"сегодня, ":"")+this.format("j F, l")+(g?"":this.format(" Y"));return e};function c(e){return(e<10?"0":"")+e}})();var _=function(a,b){if(typeof b==="undefined"||typeof b.keyset==="undefined"){keyset="common"}else{keyset=b.keyset}return i18n.eventsite[keyset]&&i18n.eventsite[keyset][a]&&i18n.eventsite[keyset][a](b)};blocks["i-utils__human_time"]=function(a){function b(c){return(c<10?"0":"")+c}return Math.floor(a/1000/60)+":"+b(Math.floor((a/1000)%60))};(function(){var w=this;var j=w._;var E={};var D=Array.prototype,f=Object.prototype,r=Function.prototype;var n=D.slice,A=D.unshift,c=f.toString,h=f.hasOwnProperty;var M=D.forEach,q=D.map,F=D.reduce,b=D.reduceRight,a=D.filter,B=D.every,o=D.some,m=D.indexOf,l=D.lastIndexOf,t=Array.isArray,e=Object.keys,G=r.bind;var N=function(p){return new u(p)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=N}exports._=N}else{w._=N}N.VERSION="1.3.3";var J=N.each=N.forEach=function(S,R,Q){if(S==null){return}if(M&&S.forEach===M){S.forEach(R,Q)}else{if(S.length===+S.length){for(var P=0,p=S.length;P<p;P++){if(P in S&&R.call(Q,S[P],P,S)===E){return}}}else{for(var O in S){if(N.has(S,O)){if(R.call(Q,S[O],O,S)===E){return}}}}}};N.map=N.collect=function(Q,P,O){var p=[];if(Q==null){return p}if(q&&Q.map===q){return Q.map(P,O)}J(Q,function(T,R,S){p[p.length]=P.call(O,T,R,S)});if(Q.length===+Q.length){p.length=Q.length}return p};N.reduce=N.foldl=N.inject=function(R,Q,p,P){var O=arguments.length>2;if(R==null){R=[]}if(F&&R.reduce===F){if(P){Q=N.bind(Q,P)}return O?R.reduce(Q,p):R.reduce(Q)}J(R,function(U,S,T){if(!O){p=U;O=true}else{p=Q.call(P,p,U,S,T)}});if(!O){throw new TypeError("Reduce of empty array with no initial value")}return p};N.reduceRight=N.foldr=function(R,Q,p,P){var O=arguments.length>2;if(R==null){R=[]}if(b&&R.reduceRight===b){if(P){Q=N.bind(Q,P)}return O?R.reduceRight(Q,p):R.reduceRight(Q)}var S=N.toArray(R).reverse();if(P&&!O){Q=N.bind(Q,P)}return O?N.reduce(S,Q,p,P):N.reduce(S,Q)};N.find=N.detect=function(Q,P,O){var p;z(Q,function(T,R,S){if(P.call(O,T,R,S)){p=T;return true}});return p};N.filter=N.select=function(Q,P,O){var p=[];if(Q==null){return p}if(a&&Q.filter===a){return Q.filter(P,O)}J(Q,function(T,R,S){if(P.call(O,T,R,S)){p[p.length]=T}});return p};N.reject=function(Q,P,O){var p=[];if(Q==null){return p}J(Q,function(T,R,S){if(!P.call(O,T,R,S)){p[p.length]=T}});return p};N.every=N.all=function(Q,P,O){var p=true;if(Q==null){return p}if(B&&Q.every===B){return Q.every(P,O)}J(Q,function(T,R,S){if(!(p=p&&P.call(O,T,R,S))){return E}});return !!p};var z=N.some=N.any=function(Q,P,O){P||(P=N.identity);var p=false;if(Q==null){return p}if(o&&Q.some===o){return Q.some(P,O)}J(Q,function(T,R,S){if(p||(p=P.call(O,T,R,S))){return E}});return !!p};N.include=N.contains=function(P,O){var p=false;if(P==null){return p}if(m&&P.indexOf===m){return P.indexOf(O)!=-1}p=z(P,function(Q){return Q===O});return p};N.invoke=function(O,P){var p=n.call(arguments,2);return N.map(O,function(Q){return(N.isFunction(P)?P||Q:Q[P]).apply(Q,p)})};N.pluck=function(O,p){return N.map(O,function(P){return P[p]})};N.max=function(Q,P,O){if(!P&&N.isArray(Q)&&Q[0]===+Q[0]){return Math.max.apply(Math,Q)}if(!P&&N.isEmpty(Q)){return -Infinity}var p={computed:-Infinity};J(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>=p.computed&&(p={value:U,computed:S})});return p.value};N.min=function(Q,P,O){if(!P&&N.isArray(Q)&&Q[0]===+Q[0]){return Math.min.apply(Math,Q)}if(!P&&N.isEmpty(Q)){return Infinity}var p={computed:Infinity};J(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<p.computed&&(p={value:U,computed:S})});return p.value};N.shuffle=function(P){var p=[],O;J(P,function(S,Q,R){O=Math.floor(Math.random()*(Q+1));p[Q]=p[O];p[O]=S});return p};N.sortBy=function(P,Q,p){var O=N.isFunction(Q)?Q:function(R){return R[Q]};return N.pluck(N.map(P,function(T,R,S){return{value:T,criteria:O.call(p,T,R,S)}}).sort(function(U,T){var S=U.criteria,R=T.criteria;if(S===void 0){return 1}if(R===void 0){return -1}return S<R?-1:S>R?1:0}),"value")};N.groupBy=function(P,Q){var p={};var O=N.isFunction(Q)?Q:function(R){return R[Q]};J(P,function(T,R){var S=O(T,R);(p[S]||(p[S]=[])).push(T)});return p};N.sortedIndex=function(S,R,P){P||(P=N.identity);var p=0,Q=S.length;while(p<Q){var O=(p+Q)>>1;P(S[O])<P(R)?p=O+1:Q=O}return p};N.toArray=function(p){if(!p){return[]}if(N.isArray(p)){return n.call(p)}if(N.isArguments(p)){return n.call(p)}if(p.toArray&&N.isFunction(p.toArray)){return p.toArray()}return N.values(p)};N.size=function(p){return N.isArray(p)?p.length:N.keys(p).length};N.first=N.head=N.take=function(P,O,p){return(O!=null)&&!p?n.call(P,0,O):P[0]};N.initial=function(P,O,p){return n.call(P,0,P.length-((O==null)||p?1:O))};N.last=function(P,O,p){if((O!=null)&&!p){return n.call(P,Math.max(P.length-O,0))}else{return P[P.length-1]}};N.rest=N.tail=function(P,p,O){return n.call(P,(p==null)||O?1:p)};N.compact=function(p){return N.filter(p,function(O){return !!O})};N.flatten=function(O,p){return N.reduce(O,function(P,Q){if(N.isArray(Q)){return P.concat(p?Q:N.flatten(Q))}P[P.length]=Q;return P},[])};N.without=function(p){return N.difference(p,n.call(arguments,1))};N.uniq=N.unique=function(R,Q,P){var p=P?N.map(R,P):R;var O=[];if(R.length<3){Q=true}N.reduce(p,function(S,U,T){if(Q?N.last(S)!==U||!S.length:!N.include(S,U)){S.push(U);O.push(R[T])}return S},[]);return O};N.union=function(){return N.uniq(N.flatten(arguments,true))};N.intersection=N.intersect=function(O){var p=n.call(arguments,1);return N.filter(N.uniq(O),function(P){return N.every(p,function(Q){return N.indexOf(Q,P)>=0})})};N.difference=function(O){var p=N.flatten(n.call(arguments,1),true);return N.filter(O,function(P){return !N.include(p,P)})};N.zip=function(){var p=n.call(arguments);var Q=N.max(N.pluck(p,"length"));var P=new Array(Q);for(var O=0;O<Q;O++){P[O]=N.pluck(p,""+O)}return P};N.indexOf=function(R,P,Q){if(R==null){return -1}var O,p;if(Q){O=N.sortedIndex(R,P);return R[O]===P?O:-1}if(m&&R.indexOf===m){return R.indexOf(P)}for(O=0,p=R.length;O<p;O++){if(O in R&&R[O]===P){return O}}return -1};N.lastIndexOf=function(P,O){if(P==null){return -1}if(l&&P.lastIndexOf===l){return P.lastIndexOf(O)}var p=P.length;while(p--){if(p in P&&P[p]===O){return p}}return -1};N.range=function(S,Q,R){if(arguments.length<=1){Q=S||0;S=0}R=arguments[2]||1;var O=Math.max(Math.ceil((Q-S)/R),0);var p=0;var P=new Array(O);while(p<O){P[p++]=S;S+=R}return P};var H=function(){};N.bind=function d(Q,O){var P,p;if(Q.bind===G&&G){return G.apply(Q,n.call(arguments,1))}if(!N.isFunction(Q)){throw new TypeError}p=n.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,p.concat(n.call(arguments)))}H.prototype=Q.prototype;var S=new H;var R=Q.apply(S,p.concat(n.call(arguments)));if(Object(R)===R){return R}return S}};N.bindAll=function(O){var p=n.call(arguments,1);if(p.length==0){p=N.functions(O)}J(p,function(P){O[P]=N.bind(O[P],O)});return O};N.memoize=function(P,O){var p={};O||(O=N.identity);return function(){var Q=O.apply(this,arguments);return N.has(p,Q)?p[Q]:(p[Q]=P.apply(this,arguments))}};N.delay=function(O,P){var p=n.call(arguments,2);return setTimeout(function(){return O.apply(null,p)},P)};N.defer=function(p){return N.delay.apply(N,[p,1].concat(n.call(arguments,1)))};N.throttle=function(P,Q){var O,S,T,U,R,V;var p=N.debounce(function(){R=U=false},Q);return function(){O=this;S=arguments;var W=function(){T=null;if(R){P.apply(O,S)}p()};if(!T){T=setTimeout(W,Q)}if(U){R=true}else{V=P.apply(O,S)}p();U=true;return V}};N.debounce=function(O,Q,p){var P;return function(){var T=this,S=arguments;var R=function(){P=null;if(!p){O.apply(T,S)}};if(p&&!P){O.apply(T,S)}clearTimeout(P);P=setTimeout(R,Q)}};N.once=function(P){var p=false,O;return function(){if(p){return O}p=true;return O=P.apply(this,arguments)}};N.wrap=function(p,O){return function(){var P=[p].concat(n.call(arguments,0));return O.apply(this,P)}};N.compose=function(){var p=arguments;return function(){var O=arguments;for(var P=p.length-1;P>=0;P--){O=[p[P].apply(this,O)]}return O[0]}};N.after=function(O,p){if(O<=0){return p()}return function(){if(--O<1){return p.apply(this,arguments)}}};N.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var p in P){if(N.has(P,p)){O[O.length]=p}}return O};N.values=function(p){return N.map(p,N.identity)};N.functions=N.methods=function(P){var O=[];for(var p in P){if(N.isFunction(P[p])){O.push(p)}}return O.sort()};N.extend=function(p){J(n.call(arguments,1),function(O){for(var P in O){p[P]=O[P]}});return p};N.pick=function(O){var p={};J(N.flatten(n.call(arguments,1)),function(P){if(P in O){p[P]=O[P]}});return p};N.defaults=function(p){J(n.call(arguments,1),function(O){for(var P in O){if(p[P]==null){p[P]=O[P]}}});return p};N.clone=function(p){if(!N.isObject(p)){return p}return N.isArray(p)?p.slice():N.extend({},p)};N.tap=function(O,p){p(O);return O};function K(Q,P,O){if(Q===P){return Q!==0||1/Q==1/P}if(Q==null||P==null){return Q===P}if(Q._chain){Q=Q._wrapped}if(P._chain){P=P._wrapped}if(Q.isEqual&&N.isFunction(Q.isEqual)){return Q.isEqual(P)}if(P.isEqual&&N.isFunction(P.isEqual)){return P.isEqual(Q)}var T=c.call(Q);if(T!=c.call(P)){return false}switch(T){case"[object String]":return Q==String(P);case"[object Number]":return Q!=+Q?P!=+P:(Q==0?1/Q==1/P:Q==+P);case"[object Date]":case"[object Boolean]":return +Q==+P;case"[object RegExp]":return Q.source==P.source&&Q.global==P.global&&Q.multiline==P.multiline&&Q.ignoreCase==P.ignoreCase}if(typeof Q!="object"||typeof P!="object"){return false}var U=O.length;while(U--){if(O[U]==Q){return true}}O.push(Q);var S=0,p=true;if(T=="[object Array]"){S=Q.length;p=S==P.length;if(p){while(S--){if(!(p=S in Q==S in P&&K(Q[S],P[S],O))){break}}}}else{if("constructor" in Q!="constructor" in P||Q.constructor!=P.constructor){return false}for(var R in Q){if(N.has(Q,R)){S++;if(!(p=N.has(P,R)&&K(Q[R],P[R],O))){break}}}if(p){for(R in P){if(N.has(P,R)&&!(S--)){break}}p=!S}}O.pop();return p}N.isEqual=function(O,p){return K(O,p,[])};N.isEmpty=function(O){if(O==null){return true}if(N.isArray(O)||N.isString(O)){return O.length===0}for(var p in O){if(N.has(O,p)){return false}}return true};N.isElement=function(p){return !!(p&&p.nodeType==1)};N.isArray=t||function(p){return c.call(p)=="[object Array]"};N.isObject=function(p){return p===Object(p)};N.isArguments=function(p){return c.call(p)=="[object Arguments]"};if(!N.isArguments(arguments)){N.isArguments=function(p){return !!(p&&N.has(p,"callee"))}}N.isFunction=function(p){return c.call(p)=="[object Function]"};N.isString=function(p){return c.call(p)=="[object String]"};N.isNumber=function(p){return c.call(p)=="[object Number]"};N.isFinite=function(p){return N.isNumber(p)&&isFinite(p)};N.isNaN=function(p){return p!==p};N.isBoolean=function(p){return p===true||p===false||c.call(p)=="[object Boolean]"};N.isDate=function(p){return c.call(p)=="[object Date]"};N.isRegExp=function(p){return c.call(p)=="[object RegExp]"};N.isNull=function(p){return p===null};N.isUndefined=function(p){return p===void 0};N.has=function(O,p){return h.call(O,p)};N.noConflict=function(){w._=j;return this};N.identity=function(p){return p};N.times=function(Q,P,O){for(var p=0;p<Q;p++){P.call(O,p)}};N.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};N.result=function(p,P){if(p==null){return null}var O=p[P];return N.isFunction(O)?O.call(p):O};N.mixin=function(p){J(N.functions(p),function(O){x(O,N[O]=p[O])})};var y=0;N.uniqueId=function(p){var O=y++;return p?p+O:O};N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/.^/;var g={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var I in g){g[g[I]]=I}var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;var C=/\\(\\|'|r|n|t|u2028|u2029)/g;var L=function(p){return p.replace(C,function(O,P){return g[P]})};N.template=function(S,R,P){P=N.defaults(P||{},N.templateSettings);var Q="__p+='"+S.replace(i,function(T){return"\\"+g[T]}).replace(P.escape||v,function(T,U){return"'+\n_.escape("+L(U)+")+\n'"}).replace(P.interpolate||v,function(T,U){return"'+\n("+L(U)+")+\n'"}).replace(P.evaluate||v,function(T,U){return"';\n"+L(U)+"\n;__p+='"})+"';\n";if(!P.variable){Q="with(obj||{}){\n"+Q+"}\n"}Q="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+Q+"return __p;\n";var O=new Function(P.variable||"obj","_",Q);if(R){return O(R,N)}var p=function(T){return O.call(this,T,N)};p.source="function("+(P.variable||"obj")+"){\n"+Q+"}";return p};N.chain=function(p){return N(p).chain()};var u=function(p){this._wrapped=p};N.prototype=u.prototype;var s=function(O,p){return p?N(O).chain():O};var x=function(p,O){u.prototype[p]=function(){var P=n.call(arguments);A.call(P,this._wrapped);return s(O.apply(N,P),this._chain)}};N.mixin(N);J(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var O=D[p];u.prototype[p]=function(){var P=this._wrapped;O.apply(P,arguments);var Q=P.length;if((p=="shift"||p=="splice")&&Q===0){delete P[0]}return s(P,this._chain)}});J(["concat","join","slice"],function(p){var O=D[p];u.prototype[p]=function(){return s(O.apply(this._wrapped,arguments),this._chain)}});u.prototype.chain=function(){this._chain=true;return this};u.prototype.value=function(){return this._wrapped}}).call(this);if(typeof exports!=="undefined"){var underscore=exports._}BEM.DOM.decl("b-list",{onSetMod:{js:{inited:function(){this._spin=this.findBlockInside("b-spin");this._pager=this.elem("pager"),this._body=this.elem("body"),this._message=this.elem("message"),this._button=this.findBlockInside(this._pager,"b-form-button"),this._title=this.elem("title");this._pane=this.findBlockOutside("b-section__pane_binded_yes");this._pane&&$(this._pane.domElem).hide();this.loadResource();this.bindTo("pager","click",function(a){this.loadResource()})}},loading:{yes:function(){this._spin.setMod("progress","yes");this._button&&this._button.setMod("disabled","yes")},"":function(){this._spin.setMod("progress","");this._button&&this._button.setMod("disabled","")}},ended:{yes:function(){},"":function(){}}},loadResource:function(){this.setMod("loading","yes");var a=this,c=a.findBlocksInside("b-resource"),b;if(c.length){b=c.pop().params;if(b.next){this.params.url=b.next;this.params.data={}}}$.ajax({url:this.params.url,data:this.params.data,traditional:true,success:function(d){var e=$(d).hide(),f=e.bem("b-resource").params;a._message&&BEM.DOM.update(a._message,f.message);if(+f.total_count!=0){a._title&&a._title.length&&a._title.fadeIn();a._pane&&$(a._pane.domElem).show();BEM.DOM.append(a._body,e);e.fadeIn()}if(!f.next){a.setMod("ended","yes")}else{a.setMod("ended","")}},error:function(){},complete:function(){a.setMod("loading","")}})}});BEM.DOM.decl("b-spin",{onSetMod:{js:function(){this._size=this.getMod("size")||/[\d]+/.exec(this.getMod("theme"))[0];this._bgProp="background-position";this._posPrefix="0 -";if(this.elem("icon").css("background-position-y")){this._bgProp="background-position-y";this._posPrefix="-"}this._curFrame=0;this.hasMod("progress")&&this.channel("sys").on("tick",this._onTick,this)},progress:{yes:function(){this.channel("sys").on("tick",this._onTick,this)},"":function(){this.channel("sys").un("tick",this._onTick,this)}}},_onTick:function(){var a=++this._curFrame*this._size;(a>=this._size*36)&&(this._curFrame=a=0);this.elem("icon").css(this._bgProp,this._posPrefix+a+"px")},destruct:function(){this.channel("sys").un("tick",this._onTick,this);this.__base.apply(this,arguments)}});BEM.HTML.decl("b-icon",{onBlock:function(c){var b={src:"//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},f=c.params(),d=["alt","width","height"],e;f.url&&(b.src=f.url);while(e=d.shift()){f[e]&&(b[e]=f[e])}c.tag("img").attrs(b)}});(function(){var f,a=0,c=false,e=0,d=BEM.channel("sys"),b=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){e=0;if(c){c=false;d.trigger("wakeup")}});this._tick()},_tick:function(){var g=this;d.trigger("tick",{counter:a++});if(!c&&(e+=b)>3000){c=true;d.trigger("idle")}f=setTimeout(function(){g._tick()},b)}}).start()})();(function(){var a={};BEM.decl("i-request",{onSetMod:{js:function(){this._preventCache=false}},get:function(c,e,b,d){if(!$.isFunction(b)){d=b;b=this.params.onError}this._get(c,e,b,$.extend({},this.params,d))},_get:function(e,g,d,f){var c=this._buildCacheKey(e,f),b=a[f.cacheGroup];f.cache&&b&&c in b.data?g.call(this.params.callbackCtx,b.data[c]):this._do(e,g,d,f)},_do:function(c,e,b,d){},_onSuccess:function(c,b,d,e){e.cache&&!this._preventCache&&this.putToCache(e,c,d);this._preventCache=false},_buildCacheKey:function(b,c){return typeof b=="string"?b:$.param(b)},putToCache:function(f,d,e){var b=a[f.cacheGroup]||(a[f.cacheGroup]={keys:[],data:{}});if(b.keys.length>=f.cacheSize){delete b.data[b.keys.shift()]}var c=this._buildCacheKey(d,f);b.data[c]=e;b.keys.push(c)},dropCache:function(){delete a[this.params.cacheGroup]},getDefaultParams:function(){return{cache:false,cacheGroup:"default",cacheSize:100,callbackCtx:this}}})})();BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:function(){this.__base();this._requestNumber=this._number=this._preventNumber=this._retryCount=0}},_get:function(b,d,a,c){this._number++;this._requestNumber++;this._retryCount=c.retryCount;this.__base.apply(this,arguments)},_do:function(d,h,f,c){var g=this;if(g._number>g._preventNumber){var i=arguments,b={data:c.data?$.extend({},c.data,d):d},e=g._wrapCallback(function(m,j,l){g._onSuccess(g._buildCacheKey(d,c),d,m[0],c);g._allowCallback(j,l)&&h.apply(c.callbackCtx,m)}),a=g._wrapCallback(function(m,j,l){g._allowCallback(j,l)&&(g._retryCount-->0?setTimeout(function(){g._do.apply(g,i)},c.retryInterval):f&&f.apply(c.callbackCtx,m))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback"].concat(c.paramsToSettings||[]),function(l,j){b[j]=c[j]});$.ajax(b).done(e).fail(a)}},_wrapCallback:function(c){var a=this._requestNumber,b=this._number;return function(d){d!==null&&c(arguments,a,b)}},_allowCallback:function(a,b){return b>this._preventNumber&&this._requestNumber==a},_buildCacheKey:function(a,b){return typeof a=="string"?a:this.__base(a)+b.url},abort:function(){this._preventNumber=++this._number},preventCallbacks:function(){this.abort()},getDefaultParams:function(){return $.extend(this.__base(),{cache:true,type:"GET",dataType:"jsonp",timeout:20000,retryCount:0,retryInterval:2000})}});(function(){var c=false,a=false,b=[];BEM.decl("i-https",{},{isHTTPSSupported:function(){return a},enableHTTPS:function(){a=true;var d;while(d=b.shift()){d()}},getHTTPSHost:function(){var d=BEM.blocks["i-global"].param("lego-static-host");if(d){if(d.indexOf("https:")==0){return d}if(d.indexOf("http:")==0){return"https"+d.substr(4)}if(d.indexOf("//")==0){return"https:"+d}else{return"https://"+location.host+d}}else{return"https://"+location.host}},checkForHTTPS:function(d){if(a){return d()}b.push(d);if(c){return}c=true;BEM.create("i-request_type_ajax",{url:this.getHTTPSHost()+"/blocks-desktop/i-https/check-https.js",dataType:"script",cache:true,paramsToSettings:["cache"]}).get({},function(){},false,this)}})})();(function(a){var b=a.event.special.leftclick={setup:function(){a(this).bind("click",b.handler)},teardown:function(){a(this).unbind("click",b.handler)},handler:function(c){if(!c.button){c.type="leftclick";a.event.handle.apply(this,arguments);c.type="click"}}}})(jQuery);(function(){var c,b,d=function(){var e,f=0;while(e=c[f++]){e.val(e.elem("input").val())}},a=function(g){try{return g.activeElement}catch(f){}};BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){var h=this,f=h.elem("input"),g=a(h.__self.doc[0]),e=h.params.autoFocus&&!(g&&$(g).is("input, textarea"));h._val=f.val();if(g===f[0]||e){h.setMod("focused","yes")._focused=true}if(!b){c=[];b=h.channel("sys").on({tick:d,idle:function(){b.un("tick",d)},wakeup:function(){b.on("tick",d)}})}h._instanceIndex=c.push(h.bindTo(f,{focus:h._onFocus,blur:h._onBlur}))-1;h.params.shortcut&&h.bindToDoc("keydown",function(i){if(i.ctrlKey&&i.keyCode==38&&!$(i.target).is("input, textarea")){h.setMod("focused","yes")}})},disabled:function(f,e){this.elem("input").attr("disabled",e=="yes")},focused:function(f,e){if(this.hasMod("disabled","yes")){return false}var g=e=="yes";g?this._focused||this._focus():this._focused&&this._blur();this.afterCurrentEvent(function(){this.trigger(g?"focus":"blur")})}},onElemSetMod:{message:{visibility:function(h,i,e){var j=this,g=j.getMod(h,"type");if(g){var f=true;e||j.elem("message","type",g).each(function(){this!=h[0]&&j.hasMod($(this),"visibility","visible")&&(f=false)});f&&j.toggleMod("message-"+g,"yes","",e==="visible")}}}},val:function(g,f){if(typeof g=="undefined"){return this._val}if(this._val!=g){var e=this.elem("input");e.val()!=g&&e.val(g);this._val=g;this.trigger("change",f)}return this},getSelectionEnd:function(){var i=this.elem("input")[0],g=0;if(typeof(i.selectionEnd)=="number"){g=i.selectionEnd}else{var h=document.selection.createRange();if(h&&h.parentElement()==i){var f=i.value.length,e=i.createTextRange();e.moveToBookmark(h.getBookmark());var j=i.createTextRange();j.collapse(false);g=e.compareEndPoints("EndToEnd",j)>-1?f:-e.moveEnd("character",-f)}}return g},name:function(e){return this.elem("input").attr("name")},_onFocus:function(){this._focused=true;return this.setMod("focused","yes")},_onBlur:function(g){var f=this;if(f._preventBlur){setTimeout(function(){f._focus()},0);return f}f._focused=false;return f.delMod("focused")},_focus:function(){var f=this.elem("input")[0];if(f.createTextRange&&!f.selectionStart){var e=f.createTextRange();e.move("character",f.value.length);e.select()}else{f.focus()}},_blur:function(){this.elem("input").blur()},destruct:function(){this.__base.apply(this,arguments);this.params.shortcut&&this.unbindFromDoc("keydown");c.splice(this._instanceIndex,1);var f=this._instanceIndex,e;while(e=c[f++]){--e._instanceIndex}}});BEM.HTML.decl("b-form-input",{onBlock:function(e){var f=e.param("id")||e.generateId();e.tag("span").tParam("id",f).tParam("has-clear",e.mod("has-clear")==="yes").tParam("type",e.mod("type")||"input").afterContent({elem:"box",tag:"span",content:{elem:"input",attrs:{value:e.param("value"),name:e.param("name"),id:f}}}).js(true)},onElem:{input:function(e){e.tag(e.tParam("type"))},label:function(e){e.tag("label").attr("for",e.tParam("id"))},box:function(e){if(e.tParam("has-clear")){e.afterContent({elem:"clear",tag:"span"})}},hint:function(e){e.tag("label").attr("for",e.tParam("id"))}}})})();BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){this.__base.apply(this,arguments);(this._hasHint=!!this.elem("hint")[0])&&this.on("change",this._updateHint)._updateHint()},focused:function(){this.__base.apply(this,arguments);this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint-wrap"),"visibility","visible",!(this._focused||this.val()))}});(function(d,a,b){var e=b.blocks["i-https"],c=b.blocks["i-global"];a.block["b-domik"]=function(w){var g=this,t=g.find(".b-domik__social"),v=t.length&&b.DOM.extractParams(t[0])["b-domik__social"].size,m=arguments.callee,o=d('<input type="hidden" name="timestamp"/>'),u=this.attr("class").match(/\bb-domik_type_(\w+)\b/)[1],f=g.find(".b-domik__button .b-form-button:first").bem("b-form-button"),j={host:c.param("social-host"),providers:c.param("social-providers"),sprites:c.param("social-sprites")};if(t.length&&j.host){if(j.providers&&j.sprites){x(j.providers,j.sprites[v])}else{d.getJSON(j.host+"/providers2.jsonp?callback=?",function(z){x(z.providers,z.icon_sprites[v])})}var y=new a.block["i-social"];d(".b-domik__social-link").live("click",function(z){l();d(".b-domik__social-popup").each(function(){d(this).bem("b-popupa").hide()});y.start(function(){var A=c.param("retpath");(!A||top.location.href==A)?top.location.reload():(top.location.href=A)},function(){t.removeClass("b-domik__social_loading_yes").css("height","").find(".b-spin").bem("b-spin").delMod("progress")},{provider:b.DOM.extractParams(this)["b-domik__social-link"].provider});z.preventDefault()})}function x(B,A){if(!B.length){t.remove();return}t.html(n(B,A));var C=t.find(".b-dropdowna");if(!C.length){return}b.DOM.init(C);b.DOM.init(t.find(".b-spin"));var D=C.bem("b-dropdowna").getPopup();function z(){D.pos()}D.on("show",function(){d(window).scroll(z)}).on("hide",function(){d(window).unbind("scroll",z)})}function n(C,B){var D=[{block:"b-domik",elem:"social-title",content:b.I18N("b-domik","enter-with")}];C=d.grep(C,function(E){return E.enabled});var A=d.grep(C,function(E){return E.primary});A=d.map(A,function(E){return{block:"b-domik",tag:"a",elem:"social-link",content:{tag:"i",elem:"social-icon",attrs:{style:'background-image:url("'+B+'");background-position: 0px -'+(E.id-1)*32+"px;"}},js:{provider:E.code},attrs:{tabIndex:103}}});[].push.apply(D,A);function z(H){var G=d.map(H,function(J){return{block:"b-domik",tag:"a",elem:"social-link",mods:{},attrs:{tabIndex:103},js:{provider:J.code},content:[{tag:"i",elem:"social-icon",attrs:{style:'background-image:url("'+B+'");background-position: 0px -'+(J.id-1)*32+"px;"}},J.display_name]}});G.length%2&&(G[G.length]="");var F=[],I;for(var E=0;E<G.length;E++){E%2||F.push(I={tag:"tr",content:[]});I.content.push({tag:"td",elem:"provider",content:G[E]})}return F}if(A.length<C.length){D.push({tag:"div",block:"b-dropdowna",js:true,content:[{elem:"switcher",tag:"span",content:{tag:"a",block:"b-link",mods:{pseudo:"yes","is-bem":"yes"},js:true,attrs:{href:b.I18N("b-domik","passport-link"),tabIndex:103}}},{block:"b-popupa",js:{zIndex:"1"},tag:"div",mix:[{block:"b-dropdowna",elem:"popup"},{block:"b-domik",elem:"social-popup",mods:{type:u}}],content:[{elem:"tail",tag:"i"},{elem:"content",content:[{elem:"providers",tag:"table",content:z(C)}]}]}]})}D.push({block:"b-spin",js:true,mods:{size:u=="bigform"?"45":"27",theme:u=="bigform"?"white-45":"white-27","is-bem":"yes"},content:{block:"b-icon",tag:"img",attrs:{src:"//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"}}});return b.HTML.build(D)}function l(){t.css("height",t.height()).addClass("b-domik__social_loading_yes").find(".b-spin").bem("b-spin").setMod("progress","yes")}m.isHTTPSSupported=false;g.append(o).submit(function(){var z=g.attr("action");f.setMod("disabled","yes");o.val(+new Date);if(z){a.block["b-domik"].isHTTPSSupported?/^http:/.test(z)&&g.attr("action",z.replace(/^http:/,"https:")):/^https:/.test(z)&&g.attr("action",z.replace(/^https:/,"http:"))}});var r=g.find("input[name=login]"),q=g.find("input[name=passwd]"),s=g.find("input[type=submit]");r.change(function(){var z=r.val();z.indexOf("@")==-1&&!(/^[a-z0-9A-Z!@#\$%\^&\*\(\)_\-\+:;\,\.]*$/i.test(z))?h(w&&w.err_msg||b.I18N("b-domik","wrong-keyboard-layout")):p()});r.change();q.change(function(){var z=q.val();z.length&&!(/^[0-9a-zA-Z`!@#\$%\^&\*\(\)_=\-\+\[\]\{\}:;"\,\.<>\\|\/\?]*$/i.test(z))?h(b.I18N("b-domik","wrong-keyboard-layout")):p()});q.change();var i;function h(z){!i&&(i=d('<div class="b-domik__error"/>').insertAfter(g.find(".b-domik__password")));i.text(z).show()}function p(){i&&i.hide()}m.enableHTTPS=function(){m.isHTTPSSupported=true};m.checkForHTTPS=e.checkForHTTPS;e.checkForHTTPS(function(){m.enableHTTPS()})}})(jQuery,window.Lego,BEM);(function(a){BEM.DOM.decl("b-domik",{onSetMod:{js:function(){this.bindTo("input","keyup",this._onChange)}},_onChange:function(b){a(b.target).trigger("change")}})}(jQuery));(function(a){BEM.DOM.decl("b-dropdowna",{onSetMod:{js:function(){this._getSwitcher().on("click",this._toggle,this)},disabled:function(c,b){this._getSwitcher().setMod(c,b);b=="yes"&&this.getPopup().hide()}},_getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside("b-"+(this.getMod(this.elem("switcher"),"type")||"link")))},_toggle:function(){this.getPopup().toggle(this.elem("switcher"))},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("b-popupa")).on("outside-click",function(c,b){this._getSwitcher().containsDomElem(a(b.domEvent.target))&&c.preventDefault()},this)},destruct:function(){var b=this._popup;b&&b.destruct();this.__base.apply(this,arguments)}},{live:function(){this.liveInitOnEvent("switcher","leftclick",function(){})}})})(jQuery);BEM.HTML.decl("b-dropdowna",{onBlock:function(a){a.js(true)}});(function(b){var a=["down-right","down","down-left","up","up-right","up-left","right-down","right","right-up","left-down","left","left-up"];BEM.DOM.decl("b-popupa",{onSetMod:{js:function(){this._owner=null;this._isShowed=false;this._direction=this.getMod("direction")||"down";this._lastDirection=null;this._hasTail=!!this.elem("tail").length;if(!this._hasTail){Object.keys(this.params).forEach(function(c){(c.indexOf("tail")===0)&&(this.params[c]=0)},this)}}},show:function(c){if(!this._isShowed||this._owner!==c){this._owner=c;this._getUnder().show({left:-10000,top:-10000});this.pos();this._getUnder().setMod("animate","yes")}return this},hide:function(){this._isShowed&&this._getUnder().hide();return this},toggle:function(c){return this.isShowed()?this.hide():this.show(c)},_pos:function(){var c=this._calcParams(this._owner);this._hasTail&&this.elem("tail").css(c.tailOffsets);this.setMod("direction",c.direction)._getUnder().show(c.offsets);return this},pos:function(){if(!this._isShowed){return this}return this._pos()},isShowed:function(){return this._isShowed},setDirection:function(c){if(this._direction!=c){this._direction=c;this.isShowed()&&this.pos()}},setContent:function(c,e,d){BEM.DOM.update(this.elem("content"),c,e,d);return this.isShowed()?this.pos():this},_isOwnerNode:function(){return !!(this._owner&&this._owner.jquery)},_calcDimensions:function(){var i=this._getUnder().domElem,n=this._getUnder()._getUnder(),l=this.__self.win,f=this._owner,o=this._isOwnerNode(),m=o?f.offset():f,d=o?f.outerWidth():0,e=o?f.outerHeight():0,h=l.scrollLeft(),g=l.scrollTop(),j=this.__self.getWindowSize(),c=parseInt(this.elem("content").css("border-top-width"),10);return{ownerWidth:d,ownerHeight:e,ownerLeft:m.left,ownerTop:m.top,ownerRight:m.left+d,ownerBottom:m.top+e,ownerHorizMiddle:m.left+d/2,ownerVertMiddle:m.top+e/2,posWidth:i.outerWidth(),posHeight:i.outerHeight(),underWidth:n.outerWidth(),underHeight:n.outerHeight(),borderWidth:isNaN(c)?0:c,windowLeft:h,windowRight:h+j.width,windowTop:g,windowBottom:g+j.height}},_calcParams:function(){var i=this._calcDimensions();if(this.hasMod("adjustable","no")){return this.calcDirectionParams(this._direction,i)}var c={},f=this.params.directions,j=b.inArray(this._direction,f);j>-1||(j=0);var e=j,h,g;do{h=f[j];g=c[h]=this.calcDirectionParams(h,i);if(!g.factor){this._lastDirection=h;return g}++j==f.length&&(j=0)}while(j!==e);return c[this._lastDirection||f[0]]},calcDirectionParams:function(m,j){var l,g=this.params,f={top:0,left:0},i={marginLeft:0,marginTop:0},c=m.split("-")[0],e=(this._hasTail&&j.ownerWidth<g.tailWidthVertical)?(g.tailWidthVertical-j.ownerWidth)/2:0,h=(this._hasTail&&j.ownerHeight<g.tailHeightHorizontal)?(g.tailHeightHorizontal-j.ownerHeight)/2:0;switch(m){case"up":case"down":f.left=j.ownerHorizMiddle-j.posWidth/2;f.top=m=="down"?j.ownerBottom+g.tailHeightVertical:j.ownerTop-j.posHeight-g.tailHeightVertical;i.marginLeft=j.posWidth/2-g.tailWidthVertical/2;i.marginTop=m=="down"?0-g.tailHeightVertical:0;break;case"up-left":case"up-right":case"down-left":case"down-right":f.left=m=="down-right"||m=="up-right"?j.ownerLeft-e:j.ownerRight-j.posWidth+e;f.top=c=="down"?j.ownerBottom+g.tailHeightVertical:j.ownerTop-j.posHeight-g.tailHeightVertical;i.marginLeft=j.ownerWidth>j.posWidth?j.posWidth/2-g.tailWidthVertical/2:j.ownerHorizMiddle-f.left-g.tailWidthVertical/2;i.marginTop=c=="down"?j.borderWidth-g.tailHeightVertical:0-j.borderWidth;break;case"left-down":case"right-down":f.left=m=="left-down"?j.ownerLeft-j.posWidth-g.tailWidthHorizontal:j.ownerRight+g.tailWidthHorizontal;f.top=j.ownerTop-h;i.marginLeft=m=="left-down"?0-j.borderWidth:j.borderWidth-g.tailWidthHorizontal;i.marginTop=j.ownerHeight<j.posHeight?j.ownerVertMiddle-f.top-g.tailHeightHorizontal/2:j.posHeight/2-g.tailHeightHorizontal/2;break;case"left":case"right":f.left=m=="left"?j.ownerLeft-j.posWidth-g.tailWidthHorizontal:j.ownerRight+g.tailWidthHorizontal;f.top=j.ownerVertMiddle-j.posHeight/2;i.marginLeft=m=="left"?0-j.borderWidth:j.borderWidth-g.tailWidthHorizontal;i.marginTop=j.posHeight/2-g.tailHeightHorizontal/2;break;case"left-up":case"right-up":f.left=m=="left-up"?j.ownerLeft-j.posWidth-g.tailWidthHorizontal:j.ownerRight+g.tailWidthHorizontal;f.top=j.ownerBottom-j.posHeight+h;i.marginLeft=c=="left"?0-j.borderWidth:j.borderWidth-g.tailWidthHorizontal;i.marginTop=j.ownerHeight>j.posHeight?j.posHeight/2-g.tailHeightHorizontal/2:j.ownerVertMiddle-f.top-g.tailHeightHorizontal/2}l=this.calcInWindowFactor(f,j);return{direction:c,factor:l,offsets:f,tailOffsets:i}},calcInWindowFactor:function(f,e){var c=0;e.windowTop>f.top&&(c+=e.windowTop-f.top);f.top+e.underHeight>e.windowBottom&&(c+=f.top+e.underHeight-e.windowBottom);e.windowLeft>f.left&&(c+=e.windowLeft-f.left);f.left+e.underWidth>e.windowRight&&(c+=f.left+e.underWidth-e.windowRight);return c},getDefaultParams:function(){return{tailOffset:19,tailWidthHorizontal:9,tailWidthVertical:19,tailHeightHorizontal:19,tailHeightVertical:10,shadowSize:7,directions:a}},destruct:function(){var c=this._under;if(!c){this.__base.apply(this,arguments)}else{if(!this._destructing){this._destructing=true;this.hide();BEM.DOM.destruct(false,c.domElem);this.__base(true)}}},_getUnder:function(){if(!this._under){var c=b(BEM.HTML.build({block:"i-popup",zIndex:this.params.zIndex,mods:{autoclosable:this.getMod("autoclosable")||"yes",fixed:this.hasMod("direction","fixed")&&"yes"},underMods:this.params.underMods,underMix:[{block:"b-popupa",elem:"under"}]}));(this._under=this.findBlockOn(c,"i-popup")).on({show:this._onUnderShowed,hide:this._onUnderHidden,"outside-click":this._onUnderOutsideClicked},this).elem("content").append(this.domElem)}return this._under},_onUnderShowed:function(){this._isShowed=true;this.bindToWin("resize",this.pos)._isOwnerNode()&&this.bindToDomElem(this._owner.parents().add(this.__self.win),"scroll",this.pos);this.trigger("show")},_onUnderHidden:function(){this._isShowed=false;this.unbindFromWin("resize")._isOwnerNode()&&this.unbindFromDomElem(this._owner.parents().add(this.__self.win),"scroll");this.trigger("hide")},_onUnderOutsideClicked:function(){this.trigger.apply(this,arguments)}},{live:function(){this.liveBindTo("close","leftclick",function(){this.hide()})}});BEM.HTML.decl("b-popupa",{onBlock:function(c){var d=false;b.each(c.param("content"),function(e,f){return !(d=f.elem=="close")});c.mods({theme:"ffffff",direction:"down","has-close":d&&"yes"}).js(true).afterContent({elem:"shadow"})},onElem:{content:function(c){c.wrap({elem:"wrap-cell",tag:"td"}).wrap({tag:"tr"}).wrap({elem:"wrap",tag:"table"})},close:function(c){c.tag("i")},shadow:function(c){c.tag("i")},tail:function(c){c.tag("i").wrapContent({elem:"tail-i",tag:"i"})}}})})(jQuery);(function(d){var c,g=[],a=d.browser;function f(){return g.length?g.shift():c?c.clone():c=b()}function e(h){g.push(h)}function b(){return d((a.safari||a.webkit)&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1?"<div/>":"<iframe"+(a.msie&&a.version<9?' frameborder="0"':"")+"/>")}BEM.DOM.decl("i-popup",{onSetMod:{js:function(){var h=d.browser;if(h.msie&&parseInt(h.version)>=9){this.domElem[0].onresize=function(){this.className+=""}}},visibility:{visible:function(){var h=this._getUnder(),i=h.parent();this.hasMod(h,"type","paranja")?i.is("body")||h.appendTo("body"):(i[0]!==this.domElem[0])&&h.prependTo(this.domElem);this._inBody||(this._inBody=!!this.domElem.appendTo("body"));this.trigger("show")},"":function(){var h=this._getUnder();this.hasMod(h,"type","paranja")&&h.remove();this._putUnder();this.trigger("hide")}}},_getUnder:function(){return this._under||(this._under=f().attr("class",this._underClass||(this._underClass=this.findElem("under").remove().attr("class"))))},_putUnder:function(){e(this._under);delete this._under},show:function(h){h&&this.domElem.css(h);return this.setMod("visibility","visible")},hide:function(){return this.delMod("animate").delMod("visibility")}},{live:true})})(jQuery);BEM.HTML.decl("i-popup",{onBlock:function(a){a.mod("autoclosable","yes").js(true).wrapContent({elem:"content"}).afterContent({elem:"under",mods:a.param("underMods"),mix:a.param("underMix")}).param("zIndex")&&a.attr("style","z-index:"+(32700+a.param("zIndex")))}});(function(a){var b=(a.browser.opera&&a.browser.version<12.1)?"keypress":"keydown";BEM.DOM.decl({name:"i-popup",modName:"autoclosable",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.afterCurrentEvent(function(){if(this.hasMod("visibility","visible")){var c=this._under;this.bindToDoc("leftclick",function(d){this.containsDomElem(a(d.target))||this._onOutClick(d)}).bindToDoc(b,function(d){d.keyCode==27&&this.hide()});if(c&&c.is("iframe")&&this.hasMod(c,"type","paranja")){this.bindToDomElem(a([c[0].contentWindow,c[0].contentWindow.document]),"leftclick",this.hide)}}});this.__base.apply(this,arguments)},"":function(){return this.unbindFromDoc("leftclick "+b).__base.apply(this,arguments)}}},_onOutClick:function(c){var d=a.Event("outside-click");this.trigger(d,{domEvent:c});d.isDefaultPrevented()||this.hide()}})})(jQuery);BEM.HTML.decl("b-dropdowna",{onElem:{switcher:function(a){a.tag("span")}}});BEM.HTML.decl("b-link",{onBlock:function(a){a.tag("a").attr("href",a.param("url"));var b=["title","target"],c;while(c=b.pop()){a.param(c)&&(a.attr(c,a.param(c)))}}});BEM.DOM.decl({name:"b-link",modName:"pseudo",modVal:"yes"},{_onClick:function(a){a.preventDefault();this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.__base.apply(this,arguments);this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick",function(a){this._onClick(a)})}});BEM.HTML.decl({name:"b-link",modName:"pseudo",modVal:"yes"},{onBlock:function(a){a.tag(a.param("url")?"a":"span");a.wrapContent({elem:"inner"});a.js(true)},onElem:{inner:function(a){a.tag("span")}}});(function(b,a){window.Lego||(window.Lego={block:{}});Lego.block["i-social"]=function(e){function g(m){var l=this,i={};this.url=m.startUrl+"?";delete m.startUrl;this.popupName=m.popupName;this.yaWindow=null;this.wTimer=null;this.paramsDefault=m;function o(){var p;if(!l.yaWindow){return true}try{p=l.yaWindow.closed}catch(q){p=true}return p}function n(){if(o()){l.wTimer=clearInterval(l.wTimer);l.onFailure({status:"error"})}}function h(y){var B=l.popupName,t=500,C=280,v=Math.round(((window.opera?window.innerWidth:screen.availWidth)-t)/2),z=Math.round(((window.opera?window.innerHeight:screen.availHeight)-C)/2),r="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+v+", top="+z+", width="+t+", height="+C;var u={};for(var x in l.paramsDefault){u[x]=l.paramsDefault[x]}for(var x in y){u[x]=y[x]}if(u.display&&u.display!="popup"){u.retpath=u.retnopopup||window.location.href}else{var A="ddom="+(u.ddom||(location.hostname==document.domain?"":document.domain));if("retnopopup" in u){delete u.retnopopup}u.retpath+=(u.retpath.match("#")?"&":"#")+A}var q=l.url;var s=[];for(var w in u){s.push(encodeURIComponent(w)+"="+encodeURIComponent(u[w]))}q+=s.join("&");if(u.display&&u.display!="popup"){window.location.href=q;return}l.yaWindow=window.open(q,B,r);l.yaWindow.focus();if(l.yaWindow){l.wTimer=setInterval(n,500)}}function j(){this.handlers={onSuccess:null,onFailure:null};l.wTimer=clearInterval(l.wTimer);o()||l.yaWindow.close();l.yaWindow=false}this.start=function(q,p,r){j();l.handlers={onSuccess:q,onFailure:p};h(r)};this.onSuccess=function(q){j();var p=l.handlers.onSuccess;p&&p.call(l,q)};this.onFailure=function(q){j();var p=l.handlers.onFailure;p&&p.call(l,q)}}arguments.callee.Broker=g;var f=a.param("id"),d=arguments.callee.defaultParams={startUrl:a.param("social-startUrl")||a.param("social-host")+"/broker/start",retpath:a.param("social-retpath")||location.protocol+"//"+location.host+a.param("lego-path")+"/blocks-desktop/i-social/closer/i-social__closer.html",retnopopup:a.param("social-retnopopup")||false,consumer:f||"morda",popupName:"social_"+(f||"morda"),application:"",action_if_anonymous:"authorize",result_location:"fragment"},c=arguments.callee.broker=new g(b.extend(d,e));return c}})(jQuery,BEM.blocks["i-global"]);BEM.DOM.decl("b-form-button",{onSetMod:{js:function(){var a=this.isDisabled();(this._href=this.domElem.attr("href"))&&a&&this.domElem.removeAttr("href");this.elem("input").attr("disabled",a)},focused:{yes:function(){var a=this;if(a.isDisabled()){return false}a.bindTo("keydown",this._onKeyDown).elem("input").is(":focus")||a.elem("input").focus();a._unloadInited||(a._unloadInited=$(window).bind("unload",function(){a.delMod("focused")}))},"":function(){this.unbindFrom("keydown").elem("input").blur()}},disabled:function(c,a){var b=a=="yes";this._href&&(b?this.domElem.removeAttr("href"):this.domElem.attr("href",this._href));b&&this.domElem.keyup();this.afterCurrentEvent(function(){this.domElem&&this.elem("input").attr("disabled",b)})},pressed:function(b,a){this.isDisabled()||this.trigger(a=="yes"?"press":"release")},hovered:{"":function(){this.delMod("pressed")}},"*":function(a){if(this.isDisabled()&&"hovered pressed".indexOf(a)>-1){return false}}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(a){if(typeof a=="undefined"){return this._href}else{this._href=a;this.isDisabled()||this.domElem.attr("href",a);return this}},_onKeyDown:function(b){var a=b.keyCode;if((a==13||a==32)&&!this._keyDowned){this._keyDowned=true;this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup");delete this._keyDowned;if(a==32&&this.domElem.attr("href")){document.location=this.domElem.attr("href")}})}},_onClick:function(a){this.isDisabled()?a.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})},destruct:function(){this.delMod("focused");this.__base.apply(this,arguments)}},{live:function(){var a={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}};this.liveBindTo("leftclick",function(b){this._onClick(b)}).liveBindTo("mouseover mouseout mouseup focusin focusout",function(c){var b=a[c.type];this.setMod(b.name,b.val||"")}).liveBindTo("mousedown",function(c){var b=a[c.type];c.which==1&&this.setMod(b.name,b.val||"")})}});BEM.HTML.decl("b-form-button",{onBlock:function(a){a.tag(a.param("url")?"a":"span").attrs({href:a.param("url"),target:a.param("target")}).mods({size:a.mod("size"),theme:a.mod("theme")}).content([{elem:"left",tag:"i"},{elem:"content",tag:"span",content:{elem:"text",tag:"span",content:a.content()}}],true).afterContent(a.param("type")?{elem:"input",attrs:{value:a.param("value")||"",type:a.param("type"),name:a.param("name"),disabled:a.mod("disabled")&&"disabled"}}:{elem:"click"}).js(true)},onElem:{input:function(a){a.tag("input")},click:function(a){a.tag("i")}}});BEM.DOM.decl({name:"b-domik",modName:"type",modVal:"popup"},{onSetMod:{js:function(){this.__base.apply(this,arguments);Lego.block["b-domik_type_popup"].call(this.domElem,this.params)}}});(function(c,a,b){a.block["b-domik_type_popup"]=function(j){var f=c(this),h=b.param("passport-host"),e;c(".b-head-userinfo__entry .b-link_pseudo_yes").click(function(l){l.preventDefault();setTimeout(function(){d()},0)});function d(m){if(!e){i()}m||(m=b.param("retpath"));var l="&from="+b.param("passport-msg")+"&retpath="+encodeURIComponent(m);f.attr("action",h+"/passport?mode=auth"+l);e.find(".b-domik__register .b-domik__link").attr("href",h+"/passport?mode="+(j.regMode||"register")+l);c(document).bind("keyup.b-domik",function(n){if(n.keyCode==27){g()}}).bind("click.b-domik",function(p){var o=c(p.target),n=o.parents().andSelf();if(o.is("input[type=button]")||n.index(e)==-1&&!n.is(".b-popupa")){g()}});e.show().find("input[name=login]").focus();c(document).trigger("show.b-domik_type_popup")}function g(){c(document).unbind(".b-domik");e.hide()}function i(){e=c(BEM.HTML.build({block:"b-domik",mods:{type:"popup"},js:{uniqId:j.uniqId},content:[{elem:"form",content:[{elem:"title",content:(j.title||BEM.I18N("b-domik","title"))},{elem:"username",content:{block:"b-form-input",id:"b-domik_popup-username",name:"login",mods:{theme:"grey",size:"m"},attrs:{tabindex:"11"},mix:[{block:"b-domik",elem:"input"}],content:[{elem:"hint-wrap",content:{elem:"hint",content:BEM.I18N("b-domik","login")}}]}},{elem:"password",content:{block:"b-form-input",id:"b-domik_popup-password",name:"passwd",mods:{theme:"grey",size:"m",type:"password"},attrs:{tabindex:"11"},mix:[{block:"b-domik",elem:"input"}],content:[{elem:"hint-wrap",content:{elem:"hint",content:BEM.I18N("b-domik","password")}},{block:"b-domik"}]}},{elem:"permanent",content:[{block:"b-form-checkbox",mods:{theme:"grey-m",size:"m",checked:"yes"},mix:[{block:"b-domik",elem:"check"}],checkboxAttrs:{id:"b-domik_popup-permanent",name:"twoweeks",value:"yes"}},{tag:"label",attrs:{"for":"b-domik_popup-permanent"},content:BEM.I18N("b-domik","permanent")}," ",{elem:"help",tag:"span",content:["(",{block:"b-link",url:BEM.I18N("b-domik","help-link"),attrs:{tabindex:12},content:BEM.I18N("b-domik","help")},")"]}]},{elem:"button",content:[{block:"b-form-button",mods:{theme:"grey-m",size:"m",valign:"middle"},type:"submit",attrs:{tabindex:11},content:BEM.I18N("b-domik","logon")},{block:"b-form-button",mods:{theme:"grey-m",size:"m",valign:"middle"},type:"button",attrs:{tabindex:11},content:BEM.I18N("b-domik","cancel")}]},{elem:"social",js:{size:16}},{elem:"register",content:{block:"b-link",mix:[{block:"b-domik",elem:"link"}],url:"",attrs:{tabindex:11},content:(j.register||BEM.I18N("b-domik","register"))}},{elem:"remember",content:{block:"b-link",mix:[{block:"b-domik",elem:"link"}],url:h+"/passport?mode=restore",content:BEM.I18N("b-domik","remember")}}]}]}));e.submit(function(l){l.preventDefault();f.find("input[name=login]").val(e.find("input[name=login]").change().val()).end().find("input[name=passwd]").val(e.find("input[name=passwd]").change().val()).end().find("input[name=twoweeks]").attr("checked",e.find("input[name=twoweeks]").attr("checked")||false).end().append('<input type="hidden" name="timestamp" value="'+ +new Date+'"/>').attr("action",a.block["b-domik"].isHTTPSSupported?f.attr("action").replace(/^(:?http:)?\/\//,"https://"):f.attr("action")).submit()});a.block["b-domik"]&&a.block["b-domik"].call(e);BEM.DOM.append(c("body"),e)}arguments.callee.login=function(){var l=arguments;setTimeout(function(){d.apply(this,l)},0)}}})(jQuery,window.Lego,BEM.blocks["i-global"]);BEM.HTML.decl({block:"b-domik",modName:"type",modVal:"popup"},{onBlock:function(a){a.tag("form").attr("action","post").wrapContent([{elem:"roof"},{elem:"shadow",content:a.content()},{elem:"under"}])},onElem:{roof:function(a){a.tag("i")},shadow:function(a){a.tag("table").wrapContent([{tag:"tr",content:[{elem:"shadow__lt",tag:"td",content:"&nbsp;"},{elem:"shadow__t",tag:"td"},{elem:"shadow__rt",tag:"td",content:"&nbsp;"}]},{tag:"tr",content:[{elem:"shadow__l",tag:"td",content:"&nbsp;"},{elem:"shadow__m",tag:"td",content:a.content()},{elem:"shadow__r",tag:"td",content:"&nbsp;"},]},{tag:"tr",content:[{elem:"shadow__lb",tag:"td",content:"&nbsp;"},{elem:"shadow__b",tag:"td"},{elem:"shadow__rb",tag:"td",content:"&nbsp;"}]}])},under:function(a){a.tag("iframe").attr("frameborder",0)}}});(function(){BEM.HTML.decl({block:"b-form-input",modName:"type",modVal:"password"},{onElem:{input:function(a){a.tag("input").attr("type","password")}}})}());BEM.DOM.decl("b-form-checkbox",{onSetMod:{js:function(){var d=this,a=d.elem("checkbox");try{var c=d.__self.doc[0].activeElement}catch(b){}d.setMod("checked",a.attr("checked")?"yes":"");c===a[0]&&d.setMod("focused","yes")},focused:{yes:function(){if(this.isDisabled()){return false}this.elem("checkbox").focus()},"":function(){this.elem("checkbox").blur()}},checked:function(b,a){this.elem("checkbox").attr("checked",a=="yes");this.elem("tick").attr("alt",((a=="yes")?" v":""));this.afterCurrentEvent(function(){this.trigger("change")})},disabled:function(b,a){this.elem("checkbox").attr("disabled",a=="yes")}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return this.hasMod("checked","yes")},toggle:function(){this.toggleMod("checked","yes","")},val:function(b){var a=this.elem("checkbox");return b==undefined?a.val():a.val(b)},_onClick:function(a){if(a.button){return}this.isDisabled()||this.setMod("focused","yes")},_onChange:function(a){a.target.checked?this.setMod("checked","yes"):this.delMod("checked")}},{live:function(){this.liveBindTo("checkbox","click",function(a){this._onClick(a)}).liveBindTo("checkbox","change",function(a){this._onChange(a)}).liveBindTo("checkbox","focusin focusout",function(a){this.setMod("focused",a.type=="focusin"?"yes":"")});return false}});BEM.HTML.decl("b-form-checkbox",{onBlock:function(b){var a=b.param("checkboxAttrs")||{};b.js(true).mix(!b.mod("size")?[{block:"b-form-checkbox",mods:{size:"m"}}]:"").tag("span").tParam("checkboxAttrs",$.extend(a||{},{id:b.param("id")||a.id||$.identify(),checked:b.mod("checked")?"checked":undefined,disabled:b.mod("disabled")?"disabled":undefined})).beforeContent({elem:"inner",content:[{elem:"checkbox",attrs:b.tParam("checkboxAttrs")},{elem:"bg"}]})},onElem:{label:function(a){a.tag("label").attr("for",a.tParam("checkboxAttrs").id)},checkbox:function(a){a.tag("input").attrs($.extend(a.attrs(),{type:"checkbox"}))},bg:function(a){a.tag("i").content({elem:"tick"})},tick:function(a){a.tag("i")},inner:function(a){a.tag("span")}}});BEM.HTML.decl("b-link",{onBlock:function(a){a.tag("a").attr("href",a.param("url"))}});(function(a){a=a||{};a.oframebustMatchDomain=function(g,h){g=Object.prototype.toString.call(g)==="[object Array]"?g:(function(){var d=[];for(var e in g){g.hasOwnProperty(e)&&d.push(e)}return d}());for(var c=0,b=g.length;c<b;c++){var m=g[c];if(typeof(m)=="string"){if(/(\?|\*)/.test(m)){var f=m.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".{1}");if((new RegExp("^"+f+"$")).test(h)){return true}}else{if(h==m){return true}}}else{try{if(m.test(h)){return true}}catch(j){}}}}})(window.Lego);(function(a){a=a||{};a.oframebust=function(c){if(window.top.location!=window.location){var b=document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/);if(!b){return}!a.oframebustMatchDomain(c,b[1])&&(window.top.location=window.location)}}})(window.Lego);(function(){BEM.DOM.decl("b-mooa",{onSetMod:{js:function(){var d=this,b=d.params.checker,c=function(){d._show()};if($.isFunction(b)){b.call(d,c)}else{if(typeof b==="string"){if(!a[b]){throw ('b-mooa: undefined checker "'+b+'"')}a[b].call(d,c)}else{if(b){c()}}}},loading:{progress:function(){var b=this;BEM.blocks["i-loader"].load("b-mooa",b.params.bundlePath,function(){b._onBundleSuccess()},function(){b._onBundleError()},b.params.lang)}}},_show:function(){this.setMod("visibility","visible")},_onOpenClick:function(){this.setMod("loading","progress")},_onBundleError:function(){this.delMod("loading")},getDefaultParams:function(){return{checker:function(b){BEM.blocks["i-user-services"].get(function(c){c.sids[668]&&b()})},bundlePath:BEM.blocks["i-global"].param("lego-static-host")+"/blocks-desktop/b-mooa/_b-mooa.bembundle.js",standId:"test",apiUrl:"http://b.yandex.ru/api/1.0/",panels:[{type:"bug",title:BEM.I18N("b-mooa","error")},{type:"idea",title:BEM.I18N("b-mooa","idea")}],lang:BEM.blocks["i-global"].param("lang")}}},{regChecker:function(b,c){a[b]=c},live:function(){this.liveBindTo("open","leftclick",function(){this._onOpenClick()});return false}});var a={}})();BEM.decl("i-user-services",{},{get:function(a){this._data?a(this._data):this._get(a)},getApiUrl:function(){return BEM.blocks["i-global"].param("pass-host")+"/services?callback=?"},_callbacks:[],_get:function(a){var b=this;b._callbacks.push(a);b._callbacks.length==1&&$.getJSON(b.getApiUrl(),{locale:BEM.blocks["i-global"].param("lang"),login:"yes","current-login":BEM.blocks["i-global"].param("login"),yu:$.cookie("yandexuid")},function(c){b._data=c;$.each(b._callbacks,function(){this(c)});b._callbacks.length=0})}});(function(d){var c,b={},a=BEM.decl("i-loader",{},{load:function(o,f,l,h,g){if(typeof f!="string"){g=h;h=l;l=f;f=o}if(g===undefined&&h!==undefined&&typeof h!="function"){g=h;h=undefined}var p=b[o],i=this;if(p){if(p.successFns){p.successFns.push(l);h&&p.errorFns.push(h)}else{setTimeout(function(){l()},0)}return}var n=document,m=n.createElement("script"),j=function(){a._error(o)},e=f.split(".");if(d.browser.msie&&d.browser.version<=8){e.splice(-1,0,"ie")}if(g){e.splice(-1,0,typeof g=="string"?g:BEM.blocks["i-global"].param("lang"))}m.type="text/javascript";m.charset="utf-8";m.src=e.join(".");m.onerror=j;setTimeout(function(){(c||(c=d("head")[0])).insertBefore(m,c.firstChild)},0);b[o]={successFns:[l],errorFns:h?[h]:[],timer:setTimeout(j,20000)}},loaded:function(f){var j=b[f.id];clearTimeout(j.timer);f.js&&f.js();f.css&&a._appendCss(f.css);if(f.hcss){var i=[],e=window._ycssjs;f.hcss.forEach(function(l){if(e){if(l[0] in e){return}e(l[0])}i.push(l[1])});i.length&&a._appendCss(i.join(""))}var g=j.successFns,h;while(h=g.shift()){h()}delete j.successFns},_error:function(f){var h=b[f],e=h.errorFns,g;clearTimeout(h.timer);while(g=e.shift()){g()}delete b[f]},_appendCss:function(e){var f=document.createElement("style");f.type="text/css";c.insertBefore(f,c.firstChild);f.styleSheet?f.styleSheet.cssText=e:f.appendChild(document.createTextNode(e))}})})(jQuery);(function(c,a){BEM.DOM.decl("b-head-tabs",{onSetMod:{js:function(){a.block["b-head-tabs"].call(this.domElem[0],this.params)}}});var b=a.block["b-head-tabs"]=function(u){var e=c(this),x=c(".b-head-search"),w=x.find(".b-search .b-form-input input:first"),o=BEM.blocks["i-global"].param("id"),j=(function(){var z=q(window.location.search),y=/^#.*(\?.+)$/.exec(window.location.hash);y&&c.extend(z,q(y[1]));return z}()),i={www:505,search:521,images:526}[o]||527,f={market:{cvredirect:2,clid:i}},m={news:{rpt:"nnews2",grhow:"clutop"},haber:{rpt:"nnews2",grhow:"clutop"},yaca:{rpt:"rs2"},market:{cvredirect:2,clid:i},blogs:{ft:"blog"},people:{filter:"people"},appsearch:{filter:"mobile_apps"}},v=(function(){var y={};c.each(["news","yaca","market","blogs","maps","adresa","video","fotki","slovari","auto","images","music","www","aile","yandex","haber","gorsel"],function(){y[this]=["family"]});return y})(),r=(function(){var y={};c.each(["news","yaca","market","blogs","maps","adresa","video","fotki","slovari","auto","images","music","www","aile","yandex","haber","gorsel"],function(){y[this]=["noreask","family"]});return y})(),s=e.find(':not(strong)>a.b-head-tabs__link:not([href$="/all"])').map(function(){var z=this.host.split(".")[0],A=q(this.search),C=A.clid,y=decodeURIComponent(c.param(c.extend(A,g(z,C)),true)),D=this.pathname.replace(/^\/?(.*)/,"/$1"),B=b.getHostToUrlMap()[z];B&&D.indexOf((B.charAt(0)==="/"?"":"/")+B)>-1&&(B="");D=D.slice(1);if(D.length){D=D.replace(/\/*$/,"/")}return{node:this,clid:C,toServiceId:z,path:B,pathname:D,host:this.host,searchHost:b.getHostMap()[z],noSearchParamsUrl:y?"?"+y:"",searchParams:c.extend(A,p(z,C))}}).filter(function(){return typeof this.path!=="undefined"}),n,t=x.find(".b-search__advanced")[0];if(t&&t.pathname){var h=q(t.search),l=t.pathname.replace(/^\/?(.*)/,"$1");h.text="";s.push({node:t,clid:h.clid,toServiceId:o,path:"",pathname:l,host:t.host,noSearchParamsUrl:"?"+c.param(h,true),searchParams:h})}(function(){var y=c.trim(w.val())||u["default"];if(n!=y){n=y;c.each(s,function(){y&&(this.searchParams[b.getSearchParamName(this.toServiceId)]=y);this.node.href=[this.node.protocol+"/",y&&this.searchHost?this.searchHost:this.host,this.pathname+(y?this.path+"?"+c.param(this.searchParams,true):this.noSearchParamsUrl)].join("/")})}setTimeout(arguments.callee,200)})();function g(y,z){var A=f[y]||{};!A.clid&&z&&(A.clid=z);c.each(v[y]||[],function(){j[this]&&(A[this]=j[this])});return A}function p(z,A){var C=[].concat(r[z]),y=z+o;(y=="imageswww"||y=="wwwimages")&&C.push("site");var B=m[z]||{};c.each(C,function(){j[this]&&(B[this]=j[this])});!B.clid&&A&&z!=="www"&&(B.clid=A);return B}function q(y){var z={};if(!y){return z}c.each(y.substr(1).split("&"),function(D){var E=this.split("="),A=E[0],C=E[1];if(A){if(z.hasOwnProperty(A)){var B=z[A];c.isArray(B)?B.push(C):z[A]=[B,C]}else{z[A]=C}}});return c.decodeURIComponent!==undefined?d(z):z}function d(z){var y=["site"];c.each(z,function(A,B){if(c.inArray(A,y)>-1){z[A]=c.isArray(B)?B.map(function(C){return c.decodeURIComponent(C)}):c.decodeURIComponent(B)}});return z}};c.extend(b,{getHostToUrlMap:function(){var d={www:"yandsearch",market:"search.xml",maps:"",music:"#!/search",video:"search"};d.translate=d.ceviri=d.harita=d.maps;d.blogs=d.adresa=d.fotki=d.slovari=d.auto=d.rabota=d.market;d.appsearch=d.people=d.news=d.yaca=d.images=d.gorsel=d.haber=d.yandex=d.www;d.afisha=d.pogoda=d.hava=d.video;return d},getHostMap:function(){return{}},getSearchParamName:function(d){switch(d){case"pogoda":case"hava":return"request";default:return"text"}}})})(jQuery,window.Lego);(function(d,l,b){var i=l.DOM,c=l.HTML,e=(d.browser.opera&&d.browser.version<12.1)?"keypress":"keydown",h=d.browser.msie&&d.browser.version<10,g="b-form-select";function a(o,m,r){var n={};if(o.item==="option"){n={block:g,elem:"option",tag:"option",attrs:{value:o.value},content:o.content};o.disabled&&(n.attrs.disabled="disabled");o.selected&&(n.attrs.selected="selected")}else{if(o.item==="optgroup"){n={elem:"option-group",tag:"optgroup",attrs:{label:o.label}};o.disabled&&(n.attrs.disabled="disabled");n.content=Array.isArray(o.content)?o.content.map(function(s,p){return a(s,p)}):o.content}}n.block=g;if(r){for(var q in r){if(r.hasOwnProperty(q)){n[k]=val}}}return n}function f(p,o,m){var n={block:g,elem:"item",content:{elem:"text",tag:"span",content:o||" &nbsp; "},mods:{}};m&&(n.mods=m);return n}function j(q){var r=g,o={block:r,elem:"separator",tag:"i"},n=[{block:r,elem:"fade",tag:"i"}],p=false;function m(x,w){var s=x.length;if(s){var u=0;do{var v=d(x[u]),t=v.attr("disabled")&&{disabled:"yes"};if(v.is("optgroup")){p=true;!v.prev().is("optgroup")&&n.push(o);n.push(f(v,v.attr("label"),d.extend({label:"yes"},t,w)));m(v.children(),d.extend({inner:"yes"},t,w))}else{n.push(f(v,v.text(),d.extend(t,v.is(":selected")&&{selected:"yes"},w)))}}while(++u<s||(p&&(n.push(o),p=false)))}}m(q);return c.build(n)}i.decl("b-form-select",{onSetMod:{js:function(){this._items=[];this._curItemIndex=-1;this._rowHeight=22;this._getSelectedText()!==this._buttonText()&&this.elem("select").trigger("change");this._onChangeTimerId=0},disabled:function(o,m){var n=m==="yes";this.elem("select").attr("disabled",n);this._getButton().setMod(o,m);n&&this.delMod("opened").delMod("focused")},focused:{yes:function(n,m){if(this.hasMod("disabled","yes")){return false}this._getButton().setMod(n,m);this.bindTo("keypress",function(o){this._onKeyPress(o)}).bindTo(e,function(o){this._onKeyDown(o)}).trigger("focusin")},"":function(m){this.delMod("opened")._getButton().delMod(m);this.unbindFrom("keypress "+e).trigger("focusout")}},opened:{yes:function(){if(this.hasMod("disabled","yes")){return false}this._focus()._drawPopup();this.bindToWin("scroll resize",this._updatePopupPos)},"":function(){this._getPopup().hide();this.unbindFromWin("scroll resize")}}},open:function(){return this.setMod("opened","yes")},close:function(){return this.delMod("opened")},isOpened:function(){return this.hasMod("opened","yes")},val:function(o){if(typeof o==="undefined"){return this.elem("select").val()}var m=-1,n;this.findElem("option").each(function(p){this.value===o&&!this.disabled&&(n=d(this).parent("optgroup")[0],!(n&&n.disabled))&&(m=p)});m>-1&&this._selectedIndex(m);return this},_selectedIndex:function(n){var m=this._getSelectedIndex();if(typeof n==="undefined"||n===m){return m}this.elem("select")[0].selectedIndex=n;this._buttonText(this._getSelectedText());if(this._items[0]){var o=this._items.eq(n);this.delMod(this._items,"selected").setMod(o,"selected","yes")}this.trigger("change",{index:n,prev:m});return n},setOptions:function(m){if(!m){return}i.update(this.elem("select"),c.build(d.map(m,a)));return this.updateItems()},updateItems:function(){this._popup&&this._redrawList();this.elem("select").trigger("change");return this},_focus:function(){return this.setMod("focused","yes")},_blur:function(){return this.delMod("focused")},_buttonText:function(m){if(typeof m==="undefined"){return this._getButton().elem("text").text()}return this._getButton().elem("text").html(m||" &nbsp; ")},_onClick:function(m){this.toggleMod("opened","yes","")},_onFocus:function(m){this.toggleMod("focused","yes","",m.type==="focusin")},_onSelectChange:function(m){var n=this;n._buttonText(n._getSelectedText());clearTimeout(n._onChangeTimerId);n._onChangeTimerId=setTimeout(function(){n.trigger("change",{index:n._getSelectedIndex(),prev:-1})},1)},_onKeyPress:function(m){if(m.keyCode===13){m.preventDefault();if(this.isOpened()){this._curItemIndex>-1?this._onSelectItem(this._items.eq(this._curItemIndex)):this.close()}else{return this._getButton().delMod("pressed")}}},_onKeyDown:function(r){var q=r.keyCode;if(q===38||q===40){r.preventDefault();if(!this.isOpened()){return this.open(r)}var n=this._items.length;if(n){var p=q-39,m=this._curItemIndex,o=0;do{m+=p}while(m>=0&&m<n&&this._onEnterItem(this._items.eq(m),true)===false&&++o<n)}}else{if(q===32&&!this._keyPressed){this._keyPressed=true;this._onClick();this.bindTo("keyup",function(){this.unbindFrom("keyup");this._keyPressed=false})}}},_onEnterItem:function(o,p){if(!this._isSelectableItem(o)){return false}var n=this._items,m=this._curItemIndex;m>-1&&this.delMod(n.eq(m),"hovered");m=this._getItemIndex(o);m>-1&&this.setMod(n.eq(this._curItemIndex=m),"hovered","yes");if(p){this._selectedIndex(this._curItemIndex);this._scrollToCurrent()}},_onLeaveItem:function(n){var m=this._curItemIndex;if(m>-1&&m===this._getItemIndex(n)){this.delMod(this._items.eq(m),"hovered")._curItemIndex=-1}},_onSelectItem:function(m){if(this._isSelectableItem(m)){this._selectedIndex(this._curItemIndex)}this.afterCurrentEvent(function(){this._getButton().setMod("focused","yes")});return this.close()},_isOutsideClicked:function(n,m){return this.containsDomElem(d(m.domEvent.target))},_getItemIndex:function(m){return d.inArray(m.get(0),this._items)},_getSelectedText:function(){return this.elem("select").find(":selected").text()},_getSelectedIndex:function(){return this.elem("select")[0].selectedIndex},_isSelectableItem:function(m){return !(this.hasMod(m,"disabled","yes")||this.hasMod(m,"label","yes"))},_getButton:function(){return this._button||(this._button=this.findBlockInside("b-form-button"))},_getPopup:function(){if(this._popup){return this._popup}var q=this,o=q.__self.getName(),p={block:o,elem:"list"},n={block:o,elem:"popup",mods:{}};["size","layout","theme","width"].forEach(function(s,r){q.hasMod(s)&&(n.mods[s]=q.getMod(s))});var m=d(c.build({block:"i-popup",underMix:[{block:"b-popupa",elem:"under"}],content:{block:"b-popupa",mods:q.params.popupMods,mix:[{block:o},n],content:{elem:"content",content:p}}}));(q._popup=q.findBlockOn(m,"i-popup")).on({show:function(){q._curItemIndex=q._getSelectedIndex();var r=q._items.eq(q._curItemIndex);q.delMod(q._items,"selected").setMod(r,"hovered","yes").setMod(r,"selected","yes").bindToDoc("keydown",function(s){if(s.keyCode===9&&q.isOpened()){q._blur()}})},"outside-click":function(s,r){q._isOutsideClicked(s,r)?s.preventDefault():q._blur()},hide:function(){q._curItemIndex=-1;q.delMod("opened").delMod(q._items,"hovered").delMod(q.findElem(q._popup.domElem,"popup"),"scrollable").unbindFromDoc("keydown")}}).bindTo("mousedown",function(r){r.preventDefault()});l.DOM.append("body",q._popup.domElem);q._redrawList();q._outPopup=q.findBlockOutside("button","b-popupa");q._outPopup&&q._outPopup.on("outside-click",function(s,r){q._popup.containsDomElem(d(r.domEvent.target))&&s.preventDefault()});return this._popup},_redrawList:function(){var o=this,m=o._getPopup().domElem,n;i.update(this.findElem(m,"list"),j(this.elem("select").children()));n=this.findElem(m,"item");this._curItemIndex=-1;this._items=n.filter(function(){return !o.hasMod(d(this),"label","yes")});this.bindTo(n,{mouseup:function(p){p.which===1&&(p.preventDefault(),o._onSelectItem(p.data.domElem))},mouseover:function(p){o._onEnterItem(p.data.domElem)},mouseout:function(p){o._onLeaveItem(p.data.domElem)}});return this},_popupPos:function(){var n=this._getButton().domElem,m=n.offset();m.top+=n.outerHeight();return m},_updatePopupPos:function(){var m=this._popupPos();m&&this._getPopup().domElem.css(m)},_drawPopup:function(){var n=this._popupPos(),m=this._getPopup();m.show(n);this._calcPopupDimensions();this._scrollToCurrent()},_getRowHeight:function(){return this.findElem(this._getPopup().domElem,"item").outerHeight()},_calcPopupDimensions:function(){if(!this._popupContent){this._popupContent=this._getPopup().findBlockInside("b-popupa").elem("content")}var m=parseInt(this.params.rows,10)||false;if(m&&this.findElem(this._popupContent,"item").size()>m){this._rowHeight=this._getRowHeight();this._popupContent.css("height",m*this._rowHeight);this.setMod(this.findElem(this._getPopup().domElem,"popup"),"scrollable","yes")}},_scrollToCurrent:function(){if(!this._popupContent||this._curItemIndex<0){return}var p=this.findElem(this._getPopup().domElem,"item","selected","yes").get(0).offsetTop,r=this._popupContent,q=r.scrollTop(),m=p-q,o=this._rowHeight*2,n;if(m>r.height()-o){n=p-o}else{if(q&&m<o){n=p-r.height()+o}}n&&r.scrollTop(n)},destruct:function(){clearTimeout(this._onChangeTimerId);this._outPopup&&this._outPopup.un("outside-click");var m=this._popup;m&&m.destruct();this.__base.apply(this,arguments)},getDefaultParams:function(){return{rows:13,popupMods:{direction:"down"}}}},{live:function(){this.liveBindTo("button","focusin focusout",function(m){if(h&&m.type=="focusout"){return}this._onFocus(m)}).liveBindTo("button","mousedown",function(m){m.which===1&&(m.preventDefault(),this._onClick(m))}).liveBindTo("select","change",function(m){this._onSelectChange()});return false}})}(jQuery,BEM));BEM.DOM.decl("b-lang-switcher",{onSetMod:{js:function(){this.elem("flag").each(function(a,b){new Image().src=$(b).css("backgroundImage").match(/url\(["']?([^'")]+)["']?\)/)[1]})}}});BEM.DOM.decl("b-menu",{onElemSetMod:{trigger:{state:function(b,c,a){this.toggleMod(this.findElem(b.closest(this.buildSelector("layout-vert-cell")),"item-content").eq(0),"visibility","visible",a=="opened").trigger("trigger",{domElem:b,state:a})}},item:{state:{current:function(c){var d=this,a=d.__self.getName(),b=d.elem("item","state","current").filter(function(){return $(this).closest(d.buildSelector()).bem(a)===d});d.findElem(c.parents(d.buildSelector("item-content")).prev(d.buildSelector("item")),"trigger").each(function(){d.setMod($(this),"state","opened")});d.delMod(b,"state").trigger("current",{prev:b,current:c})}}}},onTriggerClick:function(a){a.preventDefault();this.toggleMod(a.data.domElem,"state","opened")},onItemSelectorClick:function(b){var a=this._getItemByEvent(b);this.hasMod(a,"state","disabled")||this.setMod(a,"state","current")},_getItemByEvent:function(a){return a.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("trigger","leftclick",function(a){this.onTriggerClick(a)}).liveBindTo("item-selector","leftclick",function(a){this.onItemSelectorClick(a)})}});BEM.DOM.decl("b-share-load",{onSetMod:{js:{inited:function(){$.ajax({url:"//yandex.st/share/share.js",dataType:"script",cache:true,success:function(){}})}}}},{});function _columns(c){document.write('<style type="text/css"> .column_ { position: fixed; z-index: 999; top: 0; display: block; height: 100%;border-right: 1px dashed #4affff; }* html .column_ {position: absolute; } </style>');for(var d=0,b=c.length;d<b;d++){document.write('<span class="column_" style="left: '+c[d]+'%"></span>')}}if(window.location.search.indexOf("columns-head")!=-1){_columns([2,10,14,18,26,34,42,50,58,66,74,78,82,90,98])}else{if(window.location.search.indexOf("columns")!=-1){_columns([2,10,18,26,34,42,50,58,66,74,78,82,90,98])}}(function(){var a=BEM.blocks["i-https"];BEM.DOM.decl("b-head-userinfo",{onSetMod:{js:function(){var b=this;a.checkForHTTPS(function(){b._onHttps()})}},_onHttps:function(){var b=this.findBlockInside(this.elem("exit"),"b-link"),c=b&&(b=b.domElem,b.attr("href"));if(c&&a.isHTTPSSupported()){b.attr("href",c.replace(/^(https?:)?/,"https:"))}}})}());BEM.decl("i-common__string",{},{cleverSubstring:(function(){var a="…";return function(d,b,c){return(d.length>b+c)?d.substring(0,b-1)+a:d}})(),escapeHTML:(function(){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(c){return b[c]||c};return function(c){return String(c).replace(/&(?!\w+;)|[<>"']/g,function(d){return b[d]||d})}})(),escapeRegExp:function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},highlight:function(e,a){if(!$.isArray(a)){return e}var f=[],d=0,b,c=a.sort(function(h,g){return h[0]-g[0]});c.forEach(function(g){b=(d>g[0])?d:g[0];f.push({tag:"span",elem:"span",content:this.escapeHTML(e.slice(d,b))});f.push({tag:"em",elem:"em",content:this.escapeHTML(e.slice(b,d=g[1]))})},this);f.push({tag:"span",elem:"span",content:this.escapeHTML(e.slice(d))});return f}});(function(d,a,b,c){b.DOM.decl("b-head-user",{onSetMod:{js:function(){var e=this;this._maxLength=parseInt(this.params.maxlength,10);this._maxLengthRel=parseInt(this.params["maxlength-relative"],10);if(c.param("login")!==""||c.param("displayName")){b.blocks["i-user-services"].get(function(f){e.buildHtml(f)})}}},getDefaultParams:function(){return{maxlength:20,"maxlength-relative":3}},getUserItems:function(g){var f=g.displayName&&g.displayName.social?[{name:b.I18N("b-head-user","profiles"),url:c.param("social-host")}]:[{name:b.I18N("b-head-user","passport"),url:c.param("passport-host")+"/passport?mode=passport"},{name:b.I18N("b-head-user","change-password"),url:c.param("passport-host")+"/passport?mode=changepass&retpath="+encodeURIComponent(c.param("retpath"))+"/"}];var e="";d.each(f,function(j,h){e+='<li class="b-menu__layout-vert-cell'+(j==f.length-1?" b-menu__layout-vert-cell_position_last":"")+'"><div class="b-menu__item"><a class="b-link b-head-user__link" href="'+h.url+'">'+h.name+"</a></div></li>"});return e},buildHtml:function(i){if(!i||!i.services){return}var l=this,f=i.displayName&&i.displayName.social,n=b.blocks["i-common__string"].cleverSubstring(d("<div/>").text(l.getUserLogin(i)).html(),l._maxLength,l._maxLengthRel),h=this.findBlocksOn("i-ctr")&&c.param("show-counters"),g,m,e="",j;g=f?'<b class="b-user b-user_social_yes"><span class="b-user__provider-ico" style="background:url(//static.yandex.st/social/current/icons/16/'+f.provider+'.png)"></span>'+n+"</b>":'<b class="b-user"><b class="b-user__first-letter">'+n.substring(0,1)+"</b>"+n.substring(1)+"</b>";if(l.params.href){e=l.params.href}else{if(f){e=c.param("social-host")}else{if(/\.com(.tr)?$/.test(location.hostname)){e=c.param("passport-host")}else{e=c.param("i-host")||"https://i.yandex.ru"}}}m='<a class="b-link b-link_pseudo_yes '+(h?"i-ctr i-ctr_click_b-link ":"")+"i-bem\" onclick=\"return {'b-link':{}"+(h?",'i-ctr':{stat:'head-login'}":"")+'}"'+(!f&&l.hasMod("type","com")?"":' href="'+e+'"')+'><span class="b-link__inner">'+g+"</span></a>";j='<div class="b-dropdowna b-dropdowna i-bem" onclick="return {\'b-dropdowna\':{}}"><span class="b-dropdowna__switcher">'+m+'</span><div class="i-popup i-popup_autoclosable_yes i-popup i-bem" onclick="return {\'i-popup\':{}}"><div class="i-popup__content"><div class="i-popup__under b-popupa__under"></div><div class="b-popupa b-popupa_theme_ffffff b-popupa_direction_down i-bem b-dropdowna__popup" onclick="return {\'b-popupa\':{}}"><i class="b-popupa__shadow"></i><i class="b-popupa__tail"><i class="b-popupa__tail-i"></i></i><table cellpadding="0" cellspasing="0" class="b-popupa__wrap"><tr><td class="b-popupa__wrap-cell"><div class="b-popupa__content"><div class="b-menu b-menu_layout_vert b-dropdowna__menu"><ul class="b-menu__layout-vert">';f&&l.setMod("social","yes");d.each(i.services,function(o){j+='<li class="b-menu__layout-vert-cell'+(o===0?" b-menu__layout-vert-cell_position_first":"")+'"><div class="b-menu__item">';if(c.param("id")==this.id&&c.param("index")){j+="<strong>"+this.title+"</strong>"}else{j+='<a class="b-link b-head-user__link" href="'+this.url+'" onmousedown="Lego.ch(\''+c.param("id")+".login.myservices."+this.id+"',this)\">"+this.title+"</a>"}j+="</div></li>"});if(i.services.length){j+='<li class="b-menu__layout-vert-separator"><i class="b-menu__separator"></i></li>'}j+=l.getUserItems(i);j+="</ul></div></div></td></tr></table></div></div></div></div>";b.DOM.update(l.findBlockInside("b-user").domElem,j)},getUserLogin:function(f){var e=c.param("displayName");return e&&e.social&&e.name||f.displayName&&f.displayName.name||c.param("login")||f.login}})})(jQuery,window.Lego,BEM,BEM.blocks["i-global"]);(function(){var a=[];function b(){Lego.c("lego-ctr/p=show("+d(f())+")");a=[]}function e(h){var g=h.split("-");return g.join("(")+new Array(g.length).join(")")}function f(){var g=[];for(var n=0,o=a.length;n<o;n++){var q=a[n].split("-"),m=g;for(var l=0,p=q.length-1;l<p;l++){var h=q[l];if(!m[h]){m[h]=[];m.push(h)}m=m[h]}m.push(q[q.length-1])}return g}function d(h){var g="",n=[],j=[];for(var m=0;m<h.length;m++){var l=h[m];h[l]?n.push(l+"("+d(h[l])+")"):j.push(l)}n.length&&j.push(n.join(""));return j.join(",")}function c(g){var h="-"+BEM.blocks["i-global"].param("id");return g.indexOf(h,g.length-h.length)===-1?g+=h:g}BEM.DOM.decl("i-ctr",{onSetMod:{js:function(){this.setupShow();this.setupClick()}},setupShow:function(){var g=c(this.params.stat);a.push(g);a.length==1&&this.afterCurrentEvent(function(){b()})},setupClick:function(){var g=this.getMod("click");g?this.findBlockOn(g).on("click",function(){this.sendClick()},this):this.bindTo("mousedown",this.sendClick)},sendClick:function(g){Lego.c("lego-ctr/p=click("+e(c(this.params.stat))+")",g&&g.target&&g.target.tagName.toUpperCase()==="A"&&g.target)}})})();BEM.DOM.decl("b-search__input",{onSetMod:{js:function(){Lego.block["b-search__input"].call(this.domElem,this.params)}}});(function(b,a){a.block["b-search__input"]=function(e){var f=this;var c=b.extend({focus:false,shortcut:false},e);if(c.focus||f.data("lego:focused")){if(!f.data("lego:focused")){var d=document.activeElement;(d&&"input textarea".indexOf(d.tagName.toLowerCase())>-1)||setTimeout(function(){f.focus();if(f[0].createTextRange){var h=f[0].createTextRange(),g=f.val().length;h.collapse();h.moveStart("character",g);h.moveEnd("character",g);h.select()}f.data("lego:focused",true)},0)}if(!!window.history.length&&!b.trim(f.val())){f.bind("keydown",function(g){if(g.keyCode==8){if(!b.trim(f.val())){return window.history.back()}}f.unbind("keydown",arguments.callee)})}f.blur(function(){f.data("lego:focused",false)}).focus(function(){f.data("lego:focused",true)})}if(c.shortcut){b(document).keydown(function(g){if(!g.ctrlKey||b(g.target).is("input, textarea")){return}if(g.keyCode==38){f.focus().select()}})}}})(jQuery,window.Lego);(function(){BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(c,d,a,e){if(e=="disabled"){return false}var b=this.elem("item","state","current");this.delMod(b,"state").trigger("current",{prev:b,current:c})}}}},onItemSelectorClick:function(b){var a=this._getItemByEvent(b);this.setMod(a,"state","current")},_getItemByEvent:function(a){return a.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","leftclick",function(a){this.onItemSelectorClick(a)})}})})();(function(){BEM.DOM.decl({name:"b-menu-vert",baseBlock:"i-menu"},{},{live:function(){this.__base()}})})();(function(){BEM.DOM.decl("b-section",{onSetMod:{js:function(){}}},{live:function(){}})})();BEM.DOM.decl("b-ymap",{onSetMod:{js:{inited:function(){var a=$(this.domElem),b=a.find(".b-ymap-i"),c=this.params.points,e=[],d=[];ymaps.ready(function(){var g=new ymaps.GeoObjectCollection();$.each(c,function(i,h){var j=new ymaps.Placemark([h.lat,h.lon],{balloonContent:"<strong><a href='"+h.link+"'>"+h.name+"</a></strong><p>"+h.desc+"</p>"});g.add(j);e.push(h.lat);d.push(h.lon)});if(e.length>1){var f=new ymaps.Map(b[0],ymaps.util.bounds.getCenterAndZoom([[Math.min.apply(Math,e),Math.min.apply(Math,d)],[Math.max.apply(Math,e),Math.max.apply(Math,d)]],[b.width(),b.height()]))}else{var f=new ymaps.Map(b[0],{center:[c[0].lat,c[0].lon],zoom:c[0].zoom||16})}g.options.set("preset","twirl#darkgreenIcon");f.geoObjects.add(g);f.controls.add("smallZoomControl")})}}}},{});(function(){BEM.DOM.decl("b-event-broadcast-switch",{onSetMod:{js:function(){this._button=this.findBlockInside("b-form-button")},enabled:{yes:function(){this._button.elem("text").text(this.params.strings.off);this._counter&&this._counter.reachGoal("TRANSBUTTON")},"":function(){this._button.elem("text").text(this.params.strings.on);this._counter&&this._counter.reachGoal("TRANSBUTTONOFF")}}},_broadcast:null,_counter:null},{live:function(){this.liveBindTo("click",function(a){if(!this._broadcast){this._broadcast=this.findBlockOutside("i-global").findBlockInside("b-event-broadcast")}if(!this._counter){this._counter=window.Ya&&window.Ya._metrika&&window.Ya._metrika.counter}this.toggleMod("enabled","yes");this._broadcast.toggleMod("enabled","yes")})}})})();BEM.DOM.decl("b-event-broadcast",{onSetMod:{js:function(){var a=this.findBlockInside("b-form-radio");a&&a.on("set",this._switch,this)},enabled:{"":function(){this._unload(this.findElem("row","state","current"))},yes:function(){this._load(this.findElem("row","state","current"))}}},_switch:function(d,b){var c=this.findElem("row","state","current"),a=this.findElem("row","id",b.id);c.bem("b-event-broadcast__row").setMod("state","");a.bem("b-event-broadcast__row").setMod("state","current");this._unload(c);this._load(a)},_load:function(e){var f=e.find("tr"),a=$(e).bem("b-event-broadcast__row").params.id,i=this.findElem("message").hide(),d=$(".b-event-broadcast__count"),h=this.findElem("template").text(),c=this.params.stream_url,g=function(){clearInterval(window.count_update);d.hide();i.show()},b=function(j){d.find(".num").load("/live-broadcast-views/"+j+"/",function(l,n,m){d.toggle(m.status===200)})};$.ajax({url:"/api/v1/live_broadcast/",data:{format:"json",action_subcategory:a},success:function(j){if(j.objects.length){$.each(j.objects,function(l,o){if(!o[c]){return}var m=h.replace(/{{url}}/g,o[c]),n={"1":(4/3),"2":(640/368),"3":(768/240)};m=m.replace(/{{width}}/g,Math.round(300*n[o.video_format||"1"]));f.append($("<td/>").html(m));clearInterval(window.count_update);window.count_update=setInterval(function(){b(o.id)},65*1000);setTimeout(function(){b(o.id)},0)})}else{g()}},error:g})},_unload:function(a){a.find("td").remove();$(".b-event-broadcast__count").hide()}},{live:true});(function(a,b){a.DOM.decl("b-form-radio",{onSetMod:{js:function(){var f=this;try{var d=f.__self.doc[0].activeElement}catch(c){}f._val=this.findElem(this.elem("button","checked","yes"),"radio").val();f.elem("radio").each(function(){var g=[];d===this&&(g.push("focused"));this.checked&&(g.push("checked"));if(g[0]){var e=f.__self._getButtonByElem($(this));$.each(g,function(h,j){f.setMod(e,j,"yes")})}})}},onElemSetMod:{button:{focused:{yes:function(c){this.delMod(this.elem("button","focused","yes"),"focused").findElem(c,"radio").focus()}},checked:{yes:function(d){this.setMod(d.next(),"next-for-checked","yes");this._val=this.findElem(d,"radio").attr("checked",true).val();var c=this.elem("button","checked","yes");this.delMod(c,"checked");this.trigger("change",{current:d,prev:c})},"":function(c){this.delMod(c.next(),"next-for-checked")}},"next-for-checked":{yes:function(){this.delMod(this.elem("button","next-for-checked","yes"),"next-for-checked")}},disabled:function(d,e,c){d.find(this.buildSelector("radio")).attr("disabled",c=="yes")}}},val:function(c){if(typeof c=="undefined"){return this._val}else{var d=this;this.elem("radio").each(function(){if(this.value==c){d.setMod(d.__self._getButtonByElem($(this)),"checked","yes");return false}});return d}},uncheckAll:function(){var c=this.elem("button","checked","yes");this.delMod(c,"checked").findElem(c,"radio").attr("checked",false);this._val=b;return this},_onChange:function(d){var c=this.__self._getButtonByElem(d.data.domElem);d.target.checked?this.setMod(c,"checked","yes"):this.delMod(c,"checked")}},{live:function(){this.liveBindTo("radio","leftclick",function(d){if(!d.target.disabled){var c=this.__self._getButtonByElem(d.data.domElem);this.setMod(c,"focused","yes").setMod(c,"checked","yes")}}).liveBindTo("radio","change",function(c){this._onChange(c)}).liveBindTo("radio","focusin focusout",function(c){this.setMod(this.__self._getButtonByElem(c.data.domElem),"focused",c.type=="focusin"?"yes":"")});return false},_getButtonByElem:function(c){return c.closest(this.buildSelector("button"))}})})(BEM);BEM.DOM.decl({name:"b-form-radio",modName:"mode",modVal:"switch-broadcast"},{onElemSetMod:{button:{checked:{yes:function(b,c,a,d){this.__base.apply(this,arguments);this.trigger("set",{id:this.val()},this)}}}}});(function(){BEM.DOM.decl("b-event-meta",{onSetMod:{js:function(){}}},{live:function(){}})})();BEM.DOM.decl("b-twitter",{onSetMod:{js:{inited:function(){var a=$(this.domElem),b=this.params;$.ajax({url:"http://widgets.twimg.com/j/2/widget.js",dataType:"script",cache:true,success:function(){new TWTR.Widget({id:b.id,search:b.query,title:b.title,subject:b.subject,version:2,type:"search",interval:6000,width:180,height:600,theme:{shell:{background:b.background,color:b.color},tweets:{background:"#ffffff",color:"#444444",links:"#6c7a94"}},features:{scrollbar:false,loop:false,live:true,behavior:"all"}}).render().start()}})}}}},{});var blocks=blocks||{};BEM.DOM.decl("b-video-announce",{onSetMod:{js:{inited:function(){var a=this.domElem;$.get("/api/v1/program_item/",{format:"html",full_drill_to:"video",limit:"2"},function(b){BEM.DOM.update(a,b)})}}}});(function(){BEM.DOM.decl("b-program",{onSetMod:{js:function(){}}},{live:function(){}})})();(function(){BEM.DOM.decl("b-program-item",{onSetMod:{js:function(){}}},{live:function(){}})})();(function(){BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"})})();var i18n=i18n||{};(function(e,d){var a={},j=[],l="_",g="__",f="ru";function m(n){typeof n==="string"&&(n={block:n});return n.block+(n.elem?(g+n.elem):"")+(n.modName?l+n.modName+l+n.modVal:"")}function h(o){var n={};o.split(g).forEach(function(r,p){var q=[p?"elem":"block","mod","val"];r.split(l).forEach(function(t,s){n[q[s]]=t})});return n}function c(n){if(!n){return false}return j.push(n)}function b(){return j.length&&j.pop()}function i(){this._lang="";this._prj="lego";this._keyset="";this._key=""}i.prototype={lang:function(n){this._lang=n;return this},project:function(n){this._prj=n;return this},keyset:function(n,o){o&&c(this._keyset);this._keyset=m(n);return this},key:function(n){this._key=n;return this},decl:function(q){var o=h(this._keyset),r=o.block==="i-tanker"?"tanker":this._prj,t=o.elem||this._keyset,s=this._key;r=i18n[r]||(i18n[r]={});t=r[t]||(r[t]={});t[s]=typeof q==="function"?q:(function(u){return(q)});var n=a[this._lang]||(a[this._lang]={}),p=n[this._keyset]||(n[this._keyset]={});p[s]=q},val:function(q,n){var o=a[this._lang]&&a[this._lang][this._keyset];if(!o){console&&console.log&&console.log("[Error] keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")");return""}o=o[this._key];if(!o){return""}try{return typeof o==="string"?o:n?o.call(n,q):o.call(this,q)}catch(p){throw"[Error] keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")"}},_c:function(){return a}};e.I18N=(function(o){var n=function(q,p,r){return n.keyset(q).key(p,r)};n.project=function(p){this._i18n.project(p);return this};n.keyset=function(p){this._i18n.keyset(p,true);return this};n.key=function(q,t){var r=this._i18n,p,s;r.lang(this._lang).key(q);p=r.val.call(r,t,n);s=b();s&&r.keyset(s,false);return p};n.decl=function(p,t,r){var s=this._i18n,q;r||(r={});r.lang&&s.lang(r.lang);s.keyset(p);for(q in t){t.hasOwnProperty(q)&&s.key(q).decl(t[q])}return this};n.lang=function(p){typeof p!=="undefined"&&(this._lang=p);return this._lang};n._i18n=o;n._lang=f;return n}(new i()));BEM=this.BEM=e})(typeof BEM==="undefined"?{}:BEM);BEM.I18N.decl("b-copyright",{link:function(a){return"ООО «"+a.content+"»"},yandex:"Яндекс"},{lang:"ru"});BEM.I18N.decl("b-domik",{"bigform-logo-alt":"Яндекс","bigform-logo-link":"http://www.yandex.ru","bigform-logo-url":"/blocks-desktop/b-domik/_type/b-domik_type_bigform__logo.png",cancel:"Отмена","enter-with":"Войти при помощи",help:"что это","help-link":"http://help.yandex.ru/passport/?id=922493",login:"логин",logon:"Войти","passport-link":"https://passport.yandex.ru/",password:"пароль",permanent:"запомнить меня",register:"Зарегистрироваться",remember:"Напомнить пароль",title:"Вход","wrong-keyboard-layout":"смените раскладку"},{lang:"ru"});BEM.I18N.decl("b-foot",{about:"О компании",advert:"Реклама",agreement:"Пользовательское соглашение",beta:"β-версия","copyright-notice":function(a){return},design:"Дизайн","design-artlebedev":"Студия Артемия Лебедева","design-artlebedev-url":"http://www.artlebedev.ru",mobile:"Мобильная версия","privacy-policy":function(a){return},"services-button-value":"Перейти",stat:"Статистика","terms-of-service":function(a){return},termsofuse:"Лицензия на поиск",vacancies:"Вакансии","yandex-is-local":"Яндекс локален","yandex-is-not-local":"Как сделать Яндекс локальным"},{lang:"ru"});BEM.I18N.decl("b-form-input",{search:"Поиск","search-label":"поиск",vid:"Видео"},{lang:"ru"});BEM.I18N.decl("b-head-line",{simple:"простой поиск"},{lang:"ru"});BEM.I18N.decl("b-head-logo",{yandex:"Яндекс"},{lang:"ru"});BEM.I18N.decl("b-head-name",{beta:"бета"},{lang:"ru"});BEM.I18N.decl("b-head-tabs",{more:"ещё",or:"или"},{lang:"ru"});BEM.I18N.decl("b-head-user",{"change-password":"Сменить пароль",passport:"Паспорт",profiles:"Мои профили"},{lang:"ru"});BEM.I18N.decl("b-head-userinfo",{enter:"Войти",exit:"Выход",help:"Помощь","my-services":"Мои сервисы",region:"Регион","search-label":"поиск","search-value":"Найти",setup:"Настройка"},{lang:"ru"});BEM.I18N.decl("b-lang-switcher",{all:"ещё"},{lang:"ru"});BEM.I18N.decl("b-mooa",{brak_ticket_added:"Добавлен тикет",brak_ticket_updated:"Обновлён тикет",close:"Закрыть",error:"Ошибка",idea:"Идея",message_error:"Сообщение отправить не удалось, попробуйте еще раз",message_sending:"Сообщение отправляется",message_success:"Ваше сообщение отправлено"},{lang:"ru"});BEM.I18N.decl("b-search",{"advanced-search":"расширенный поиск","button-value":"Найти","for-example":"Например",label:"поиск"},{lang:"ru"});BEM.I18N.decl("i-services",{"404":"404",adresa:"Адреса",advertising:"Реклама",afisha:"Афиша",all:"Все сервисы",api:"API",appsearch:"Поиск приложений",auto:"Авто",aziada:"Азиада",ba:"Баян",backapv:"Партнер Я.Карт",balance:"Баланс",bar:"Бар","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Блоги",books:"Книги",calendar:"Календарь",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Города",cityday:"День города",collection:"Коллекция",company:"Компания",contest:"Contest",desktop:"Персональный поиск",direct:"Директ","direct.market":"Маркет",disk:"Диск",ege:"ЕГЭ",expert:"Эксперт",feedback:"Обратная связь",ff:"ФФ с поиском Яндекса",fotki:"Фотки",games:"Игрушки",geocontext:"Геоконтекст",goroda:"Города",help:"Помощь",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Картинки","images-com":"Картинки",interests:"Интересы",internet:"Интернет",keyboard:"Клавиатура",kraski:"Краски",kuda:"Куда все идут",large:"Яндекс для слабовидящих",legal:"Правовые документы",lenta:"Лента",libra:"Библиотека",literacy:"Неделя борьбы за грамотность",local:"Локальная сеть",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Почта",maps:"Карты","maps-wiki":"Народная карта",market:"Маркет","market.advertising":"Маркет",metrika:"Метрика",metro:"Метро",mobile:"Мобильный",moikrug:"Мой Круг",money:"Деньги",museums:"Дни исторического и культурного наследия",music:"Музыка","music-partner":"Музыка: статистика",nahodki:"Мои находки",nano:"Нано",newhire:"Наниматор",news:"Новости",oauth:"Авторизация",online:"Онлайн",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Рекламная сеть",partnersearch:"Поиск для партнеров",passport:"Паспорт",pdd:"Почта для домена",peoplesearch:"Поиск людей",perevod:"Перевод",probki:"Пробки",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ответы",rabota:"Работа",ramazan:function(a){return},rasp:"Расписания",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Яндекс.Олимпиада для Unix администраторов",school:"Школа",search:"Поиск",server:"Сервер",site:"Поиск для сайта",slovari:"Словари",so:"Самооборона",social:"Социализм",soft:"Программы",sport:"Спорт",sprav:"Справочник",start:"Стартовая страница",stat:"Статистика",subs:"Подписки",taxi:"Такси",terms:"Разговорник",tests:"Тесты и опросы",time:"Яндекс.Время",toster:"Тосты",translate:"Перевод",tune:"Настройки",tv:"Телепрограмма",uslugi:"Услуги",video:"Видео","video-com":"Видео",wdgt:"Виджеты",weather:"Погода",webmaster:"Вебмастер",widgets:"Виджеты",wordstat:"Статистика",wow:"Я.ру",www:"Поиск",xmlsearch:"XML",yaca:"Каталог",yamb:"Медийные баннеры",zakladki:"Закладки"},{lang:"ru"});BEM.I18N.lang("ru");